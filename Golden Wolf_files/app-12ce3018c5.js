(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var _class,_polyfills=_interopRequireDefault(require("./polyfills")),_turbolinks=_interopRequireDefault(require("turbolinks")),_decko=require("decko"),_kunstmaanAddonsFormHandler=require("@superrb/kunstmaan-addons-form-handler"),_imageLazyLoader=_interopRequireDefault(require("./components/image-lazy-loader")),_animator=_interopRequireDefault(require("./components/animator")),_header=_interopRequireDefault(require("./components/header")),_nav=_interopRequireDefault(require("./components/nav")),_accordion=_interopRequireDefault(require("./components/accordion")),_footer=_interopRequireDefault(require("./components/footer")),_credits=_interopRequireDefault(require("./components/credits")),_imageTextCtaSlideshow=_interopRequireDefault(require("./components/image-text-cta-slideshow")),_homePageFeed=_interopRequireDefault(require("./components/home-page-feed")),_video=_interopRequireDefault(require("./components/video")),_sharer=_interopRequireDefault(require("./components/sharer")),_game=_interopRequireDefault(require("./components/game")),_productSlideshow=_interopRequireDefault(require("./components/product-slideshow")),_cookiesConsent=_interopRequireDefault(require("./components/cookies-consent")),_legalAccordion=_interopRequireDefault(require("./components/legal-accordion")),_vibeGeneratorSlideshow=_interopRequireDefault(require("./components/vibe-generator-slideshow")),_pageTransition=_interopRequireDefault(require("./components/page-transition")),_search=_interopRequireDefault(require("./components/search")),_assortedImagesTextSlideshow=_interopRequireDefault(require("./components/assorted-images-text-slideshow"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,o){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,o,r,n){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,r){return r(e,t,o)||o},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let App=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"components",{}),this.refreshHtmlClasses(document.body),this.registerComponents(),this.registerCSSOnLoadEvent()}registerCSSOnLoadEvent(){const e=document.styleSheets,t=Array.from(e).map(e=>new Promise((t,o)=>{if(null===e.href)return t(e);if(new URL(e.href).host!==window.location.host)return t(e);e.ownerNode&&e.ownerNode.addEventListener("load",o=>{t(e)});try{if(e.cssRules&&e.cssRules.length>0)return t(e)}catch(e){if("InvalidAccessError"!==e.name)throw e}}));Promise.all(t).then(()=>{let e;"function"==typeof Event?e=new Event("css:load"):(e=document.createEvent("Event")).initEvent("css:load",!0,!0),document.dispatchEvent(e)})}registerComponents(){this.components.imageLazyLoader=new _imageLazyLoader.default("img[data-lazy-load-src], img[data-lazy-load-srcset], picture source[data-lazy-load-srcset]"),this.components.animator=new _animator.default(".animate-on-scroll"),this.components.formHandler=new _kunstmaanAddonsFormHandler.FormHandler,this.components.header=new _header.default,this.components.nav=new _nav.default,this.components.accordion=new _accordion.default,this.components.footer=new _footer.default,this.components.credits=new _credits.default,this.components.imageTextCtaSlideshow=new _imageTextCtaSlideshow.default,this.components.homePageFeed=new _homePageFeed.default,this.components.video=new _video.default,this.components.sharer=new _sharer.default,this.components.game=new _game.default,this.components.productSlideshow=new _productSlideshow.default,this.components.cookiesConsent=new _cookiesConsent.default,this.components.legalAccordion=new _legalAccordion.default,this.components.vibeGeneratorSlideshow=new _vibeGeneratorSlideshow.default,this.components.pageTransition=new _pageTransition.default,this.components.search=new _search.default,this.components.assortedImagesTextSlideshow=new _assortedImagesTextSlideshow.default}refreshHtmlClasses(e){for(let e of document.documentElement.classList.values())("page"===e||e.startsWith("page"))&&document.documentElement.classList.remove(e);for(let t of e.classList.values())("page"===t||t.startsWith("page"))&&document.documentElement.classList.add(t)}handleReload(){setTimeout(()=>{document.documentElement.classList.remove("loading")},50),this.refreshHtmlClasses(document.body)}handleBeforeRender(e){this.refreshHtmlClasses(e.data.newBody)}handleRender(e){this.components.imageLazyLoader.unpause(),this.components.animator.unpause(),setTimeout(()=>{document.documentElement.classList.remove("loading")},50)}handleBeforeVisit(e){this.components.imageLazyLoader.pause(),this.components.animator.pause(),document.documentElement.classList.add("loading")}handleVisit(e){this.components.imageLazyLoader.pause(),this.components.animator.pause(),document.documentElement.classList.add("loading")}}).prototype,"refreshHtmlClasses",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"refreshHtmlClasses"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleReload",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleReload"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleBeforeRender",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleBeforeRender"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleRender",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleRender"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleBeforeVisit",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleBeforeVisit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleVisit",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleVisit"),_class.prototype),_class);window.app=new App,document.addEventListener("turbolinks:load",window.app.handleReload),document.addEventListener("turbolinks:before-render",window.app.handleBeforeRender),document.addEventListener("turbolinks:render",window.app.handleRender),document.addEventListener("turbolinks:before-visit",window.app.handleBeforeVisit),document.addEventListener("turbolinks:visit",window.app.handleVisit),_turbolinks.default.start(),_turbolinks.default.setProgressBarDelay(100);

},{"./components/accordion":2,"./components/animator":3,"./components/assorted-images-text-slideshow":4,"./components/cookies-consent":5,"./components/credits":6,"./components/footer":7,"./components/game":8,"./components/header":9,"./components/home-page-feed":10,"./components/image-lazy-loader":11,"./components/image-text-cta-slideshow":12,"./components/legal-accordion":13,"./components/nav":14,"./components/page-transition":15,"./components/product-slideshow":16,"./components/search":17,"./components/sharer":18,"./components/vibe-generator-slideshow":19,"./components/video":20,"./polyfills":22,"@superrb/kunstmaan-addons-form-handler":29,"decko":33,"turbolinks":51}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=require("live-node-list"),_decko=require("decko"),_helpers=require("../helpers");function _defineProperty(e,r,o){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"==typeof r?r:String(r)}function _toPrimitive(e,r){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var t=o.call(e,r||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function _applyDecoratedDescriptor(e,r,o,t,c){var i={};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,t){return t(e,r,o)||o},i),c&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(c):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,r,i),i=null),i}let Accordion=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"accordions",new _liveNodeList.LiveNodeList(".accordion")),this.registerListeners()}registerListeners(){this.accordions.forEach(this.createAccordion),this.accordions.on("update",(e,r)=>{e.forEach(this.createAccordion)})}createAccordion(e){e.querySelectorAll(".accordion-item__title").forEach(r=>{r.addEventListener("click",r=>{this.toggleAccordion(r,e)})})}toggleAccordion(e,r){const o=(e.currentTarget||e.target).parentNode,t=o.querySelector(".accordion-item__content"),c=o.querySelector(".accordion-item__toggle .screenreader-text");o.classList.contains("accordion-item--active")?this.closeAccordion(t,o,c):(o.parentNode.querySelectorAll(".accordion-item--active").forEach(e=>{const r=e.querySelector(".accordion-item__content"),o=e.querySelector(".accordion-item__toggle .screenreader-text");this.closeAccordion(r,e,o)}),this.openAccordion(t,o,c,r)),r.querySelector(".accordion-item--active")?r.classList.add("accordion--active"):r.classList.remove("accordion--active")}openAccordion(e,r,o,t){(0,_helpers.slideDown)(e,"1s"),r.classList.add("accordion-item--active"),o.innerHTML="Close accordion item",t.classList.add("accordion--active"),setTimeout(()=>{(0,_helpers.scrollToElement)(r)},500)}closeAccordion(e,r,o){e.style.height=0,r.classList.remove("accordion-item--active"),o.innerHTML="Open accordion item"}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"createAccordion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"toggleAccordion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"openAccordion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"closeAccordion"),_class.prototype),_class);

},{"../helpers":21,"decko":33,"live-node-list":36}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=_interopRequireDefault(require("live-node-list")),_decko=require("decko");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,r,o,i){var s={};return Object.keys(o).forEach(function(e){s[e]=o[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,o){return o(e,t,r)||r},s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let Animator=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(e,t={}){_defineProperty(this,"config",{rootMargin:"0px 0px",threshold:[0,.25,.5,.75,1]}),_defineProperty(this,"selector",null),_defineProperty(this,"elements",null),_defineProperty(this,"observer",null),_defineProperty(this,"paused",!1),this.selector=e,this.config=_objectSpread(_objectSpread({},this.config),t),this.collect(),this.observer=new IntersectionObserver(this.intersect,this.config),this.observe()}collect(){this.elements=new _liveNodeList.default(this.selector),this.elements.on("update",(e,t)=>{t.forEach(e=>this.observer.unobserve(e)),e.forEach(e=>this.observer.observe(e))})}observe(){this.elements.forEach(e=>this.observer.observe(e))}unobserve(){this.elements.forEach(e=>this.observer.unobserve(e))}intersect(e){this.paused||e.forEach(e=>{e.isIntersecting&&e.intersectionRatio>0&&(this.observer.unobserve(e.target),this.animate(e.target))})}animate(e){e.classList.add("animated")}pause(){this.paused=!0}unpause(){this.paused=!1}}).prototype,"collect",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"collect"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"observe",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"observe"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unobserve",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"unobserve"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"intersect",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"intersect"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"animate",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"animate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"pause",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"pause"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unpause",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"unpause"),_class.prototype),_class);

},{"decko":33,"live-node-list":36}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_decko=require("decko"),_magicRoundabout=_interopRequireDefault(require("magic-roundabout")),_liveNodeList=require("live-node-list");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,r,i,o){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let AssortedImagesTextSlideshow=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"assortedImagesTextSlideshows",new _liveNodeList.LiveNodeList(".assorted-images-text-pp__slideshow")),this.registerListeners()}registerListeners(){this.assortedImagesTextSlideshows.forEach(this.createSlideshow),this.assortedImagesTextSlideshows.on("update",(e,t)=>{e.forEach(this.createSlideshow)})}createSlideshow(e){this.slideshow=new _magicRoundabout.default(e,{buttons:!0,click:!0,keys:!0,limit:!0,loop:!0})}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createSlideshow",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"createSlideshow"),_class.prototype),_class);

},{"decko":33,"live-node-list":36,"magic-roundabout":40}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_decko=require("decko"),_cookiesJs=_interopRequireDefault(require("cookies-js")),_liveNodeList=require("live-node-list");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,o,t){return(o=_toPropertyKey(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function _toPropertyKey(e){var o=_toPrimitive(e,"string");return"symbol"==typeof o?o:String(o)}function _toPrimitive(e,o){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,o||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}function _applyDecoratedDescriptor(e,o,t,i,r){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=t.slice().reverse().reduce(function(t,i){return i(e,o,t)||t},s),r&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(r):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,o,s),s=null),s}const ACCEPTED_COOKIE_NAME="cookies-accepted",ACCEPTED_COOKIE_TIME=31536e3;let CookiesConsent=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"cookieBar",new _liveNodeList.LiveElement("#cookie-bar")),_defineProperty(this,"cookiesAcceptLinks",new _liveNodeList.LiveNodeList(".cookie-bar__button, .cookie-bar__close")),this.registerListeners()}registerListeners(){this.isCookieSet()||this.openCookieBar(),this.cookiesAcceptLinks.forEach(e=>{e.addEventListener("click",this.closeCookieBar)})}openCookieBar(e=null){document.body.classList.add("cookie-bar-open")}closeCookieBar(){document.body.classList.remove("cookie-bar-open"),this.setDismissedCookie()}isCookieSet(){return"true"===_cookiesJs.default.get("cookies-accepted")}setDismissedCookie(){_cookiesJs.default.set("cookies-accepted","true",{expires:31536e3})}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openCookieBar",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"openCookieBar"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeCookieBar",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"closeCookieBar"),_class.prototype),_class);

},{"cookies-js":32,"decko":33,"live-node-list":36}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=require("live-node-list"),_decko=require("decko"),_helpers=require("../helpers");function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,i,r,o){var c={};return Object.keys(r).forEach(function(e){c[e]=r[e]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},c),o&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(o):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(e,t,c),c=null),c}let Credits=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"credits",new _liveNodeList.LiveNodeList(".credits-pp")),this.registerListeners()}registerListeners(){this.credits.forEach(this.createAccordion),this.credits.on("update",(e,t)=>{e.forEach(this.createAccordion)})}createAccordion(e){const t=e.querySelector(".credits-pp__column--left"),i=e.querySelector(".credits-pp__column--right");this.calcItemHeight(i),setTimeout(()=>{this.calcItemHeight(i)},1e3),window.addEventListener("resize",()=>{this.calcItemHeight(i)}),t.addEventListener("click",()=>{this.toggleAccordion(e,i)})}toggleAccordion(e,t){const i=e.querySelector(".credits-pp__toggle .screenreader-text");t.classList.contains("accordion-item--active")?(t.style.height=0,t.classList.remove("accordion-item--active"),i.innerHTML="Open accordion item"):(t.style.height=t.dataset.height+"px",t.classList.add("accordion-item--active"),i.innerHTML="Close accordion item"),e.querySelector(".accordion-item--active")?e.classList.add("accordion--active"):e.classList.remove("accordion--active")}calcItemHeight(e){e.style.height="auto",e.style.transitionDuration="0s",e.style.transitionDuration=".5s",e.querySelectorAll(".credits-pp__list-item").length>1?e.dataset.height=window.matchMedia("(min-width: 63.75em)").matches?Math.ceil(e.clientHeight/1.5):e.clientHeight:e.dataset.height=e.clientHeight,e.classList.contains("accordion-item--active")?e.style.height=e.dataset.height+"px":e.style.height=0}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"createAccordion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"toggleAccordion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calcItemHeight",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"calcItemHeight"),_class.prototype),_class);

},{"../helpers":21,"decko":33,"live-node-list":36}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=require("live-node-list"),_decko=require("decko");function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,i,r,o){var n={};return Object.keys(r).forEach(function(e){n[e]=r[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}let Footer=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"footer",new _liveNodeList.LiveElement("#footer")),_defineProperty(this,"bodyContainerItems",new _liveNodeList.LiveNodeList(".body-container")),this.registerListeners()}registerListeners(){this.footer.item&&(this.bodyContainerItems.forEach(this.calculatePadding),this.bodyContainerItems.on("update",(e,t)=>{e.forEach(this.calculatePadding)}),window.addEventListener("resize",()=>{this.bodyContainerItems.forEach(this.calculatePadding)}),setTimeout(()=>{this.bodyContainerItems.forEach(this.calculatePadding)},2e3))}calculatePadding(e){if(window.matchMedia("(min-width: 87.5em)").matches){const t=this.footer.item.clientHeight;e.style.paddingBottom=t+"px"}else e.style.removeProperty("padding-bottom")}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"calculatePadding",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"calculatePadding"),_class.prototype),_class);

},{"decko":33,"live-node-list":36}],8:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _liveNodeList=require("live-node-list"),_decko=require("decko"),_class;function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,i,s,o){var r={};return Object.keys(s).forEach(function(e){r[e]=s[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,s){return s(e,t,i)||i},r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}const INIT_URL="/api/game/initialise-score",SAVE_URL="/api/game/save-score",LEADERBOARD_URL="/api/game/leaderboard",ASSET_PATH="/frontend/img/game/";let Game=exports.default=(_class=class Game{constructor(){_defineProperty(this,"gamePP",new _liveNodeList.LiveElement(".game-pp")),_defineProperty(this,"canvas",new _liveNodeList.LiveElement("#game")),_defineProperty(this,"messageStart",new _liveNodeList.LiveElement(".game-message__text--start")),_defineProperty(this,"messageGameOver",new _liveNodeList.LiveElement(".game-message__text--game-over")),_defineProperty(this,"leaderboard",new _liveNodeList.LiveElement(".game-message__text--leaderboard")),_defineProperty(this,"buttons",new _liveNodeList.LiveNodeList(".game-pp__button")),_defineProperty(this,"restartLinks",new _liveNodeList.LiveNodeList(".game-pp__restart")),_defineProperty(this,"saveForm",new _liveNodeList.LiveElement(".game-pp__save")),_defineProperty(this,"leaderboardTrigger",new _liveNodeList.LiveElement("#game-view-leaderboard")),_defineProperty(this,"message",new _liveNodeList.LiveElement(".game-pp__message")),_defineProperty(this,"scoreField",new _liveNodeList.LiveElement(".game-pp__score-list-item--score span")),_defineProperty(this,"nameInput",new _liveNodeList.LiveElement(".game-pp__save-input")),_defineProperty(this,"paused",!0),_defineProperty(this,"count",0),_defineProperty(this,"score",0),_defineProperty(this,"canvasSize",window.matchMedia("(min-width: 720px)").matches?540:280),_defineProperty(this,"gridSize",window.matchMedia("(min-width: 720px)").matches?36:28),_defineProperty(this,"wolf",{x:4*this.gridSize,y:4*this.gridSize,dx:this.gridSize,dy:0,cells:[],maxCells:4,direction:"right"}),_defineProperty(this,"bob",{x:2*this.gridSize,y:4*this.gridSize}),_defineProperty(this,"bobIcon",new Image),_defineProperty(this,"wolfFrontUp",new Image),_defineProperty(this,"wolfFrontRight",new Image),_defineProperty(this,"wolfFrontDown",new Image),_defineProperty(this,"wolfFrontLeft",new Image),_defineProperty(this,"wolfFrontSrc",""),_defineProperty(this,"wolfMidUp",new Image),_defineProperty(this,"wolfMidRight",new Image),_defineProperty(this,"wolfMidDown",new Image),_defineProperty(this,"wolfMidLeft",new Image),_defineProperty(this,"wolfMidSrc",""),_defineProperty(this,"context",this.canvas.item),_defineProperty(this,"directionCount",0),_defineProperty(this,"remainingCells",0),this.registerListeners(),this.context&&(this.context=this.context.getContext("2d"))}registerListeners(){this.setupGame(),this.gamePP.on("update",(e,t)=>{this.setupGame()}),this.buttons.addEventListener("click",e=>{this.handleButtonClick(e)}),this.messageStart.addEventListener("click",()=>{this.startGame()}),this.gamePP.addDelegatedEventListener(document,"keydown",e=>{const t=e.which;13!==t&&37!==t&&38!==t&&39!==t&&40!==t||e.preventDefault(),this.paused?13===t&&this.startGame():37===t&&0===this.wolf.dx?(this.wolf.dx=-this.gridSize,this.wolf.dy=0,this.resetDirectionCount()):38==t&&0===this.wolf.dy?(this.wolf.dy=-this.gridSize,this.wolf.dx=0,this.resetDirectionCount()):39==t&&0===this.wolf.dx?(this.wolf.dx=this.gridSize,this.wolf.dy=0,this.resetDirectionCount()):40==t&&0===this.wolf.dy&&(this.wolf.dy=this.gridSize,this.wolf.dx=0,this.resetDirectionCount())}),this.restartLinks.addEventListener("click",this.startGame),this.leaderboardTrigger.addEventListener("click",this.viewLeaderboard),this.saveForm.addEventListener("submit",e=>{e.preventDefault(),this.saveGame()}),this.leaderboardTrigger.addEventListener("click",e=>{e.stopPropagation(),this.viewLeaderboard()}),this.capNameInput()}setupGame(){this.gamePP.item&&(this.canvas.item&&(this.canvas.item.setAttribute("height",this.canvasSize),this.canvas.item.setAttribute("width",this.canvasSize)),this.bobIcon&&(this.bobIcon.src=ASSET_PATH+"bob.svg"),this.wolfFrontUp&&(this.wolfFrontUp.src=ASSET_PATH+"wolf-front--up.png"),this.wolfFrontRight&&(this.wolfFrontRight.src=ASSET_PATH+"wolf-front--right.png"),this.wolfFrontDown&&(this.wolfFrontDown.src=ASSET_PATH+"wolf-front--down.png"),this.wolfFrontLeft&&(this.wolfFrontLeft.src=ASSET_PATH+"wolf-front--left.png"),this.wolfMidUp&&(this.wolfMidUp.src=ASSET_PATH+"wolf-mid--up.png"),this.wolfMidRight&&(this.wolfMidRight.src=ASSET_PATH+"wolf-mid--right.png"),this.wolfMidDown&&(this.wolfMidDown.src=ASSET_PATH+"wolf-mid--down.png"),this.wolfMidLeft&&(this.wolfMidLeft.src=ASSET_PATH+"wolf-mid--left.png"),this.getHighScore(),requestAnimationFrame(this.loop))}handleButtonClick(e){e.preventDefault();const t=(e.currentTarget||e.target).dataset.direction;let i="";"left"==t?i=37:"up"==t?i=38:"right"==t?i=39:"down"==t&&(i=40);const s=new KeyboardEvent("keydown",{keyCode:i,key:i,code:i,which:i});document.dispatchEvent(s)}pause(){this.paused=!0}unpause(){this.paused=!1}getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}async startGame(){this.getHighScore(),await fetch(INIT_URL,{method:"GET",credentials:"include"}),this.wolf.x=2*this.gridSize,this.wolf.y=2*this.gridSize,this.wolf.cells=[],this.wolf.maxCells=4,this.wolf.dx=this.gridSize,this.wolf.dy=0,this.wolf.direction="right",this.wolfFrontSrc=eval("this.wolfFront"+(this.wolf.direction.charAt(0).toUpperCase()+this.wolf.direction.slice(1))),this.wolfMidSrc=eval("this.wolfMid"+(this.wolf.direction.charAt(0).toUpperCase()+this.wolf.direction.slice(1))),this.score=0,this.scoreField.item.innerHTML=this.score,this.leaderboard.item.style.display="none",this.message.item.classList.remove("game-message--active"),this.unpause()}endGame(){this.bob.x=this.getRandomInt(0,this.canvasSize/this.gridSize)*this.gridSize,this.bob.y=this.getRandomInt(0,this.canvasSize/this.gridSize)*this.gridSize,this.message.item.classList.add("game-message--active"),this.pause()}async saveGame(){fetch(SAVE_URL+"?score="+this.score+"&name="+this.nameInput.item.value,{method:"GET",credentials:"include"}).then(e=>e.json()).then(()=>{this.getHighScore(),this.viewLeaderboard()})}async viewLeaderboard(){const e=document.querySelector(".leaderboard__list");await fetch(LEADERBOARD_URL+"?limit=5",{method:"GET",credentials:"include"}).then(e=>e.json()).then(t=>{const i=Object.keys(t).map(e=>`\n          ${t[e]?`\n            <li class="leaderboard__list-item${t[e].current?" leaderboard__list-item--active":""}">\n              <span>${t[e].position}.${t[e].name}</span>\n              <span>${t[e].score}</span>\n            </li>\n          `:""}\n        `).join("");e.innerHTML=i}),this.message.item.classList.add("game-message--active"),this.messageStart.item.style.display="none",this.messageGameOver.item.style.display="none",this.leaderboard.item.style.display="block"}async getHighScore(){const e=document.querySelector(".game-pp__score-list-item--high span");e&&await fetch(LEADERBOARD_URL,{method:"GET",credentials:"include"}).then(e=>e.json()).then(t=>{t[0].score&&(e.innerHTML=t[0].score)})}loop(){if(!this.canvas.item)return;const context=this.canvas.item.getContext("2d");if(requestAnimationFrame(this.loop),this.paused)return;if(++this.count<10)return;this.count=0,context.clearRect(0,0,this.canvas.item.width,this.canvas.item.height),context.imageSmoothingQuality="high",this.wolf.x+=this.wolf.dx,this.wolf.y+=this.wolf.dy,this.wolf.x<0?this.wolf.x=this.canvas.item.width-this.gridSize:this.wolf.x>=this.canvas.item.width&&(this.wolf.x=0),this.wolf.y<0?this.wolf.y=this.canvas.item.height-this.gridSize:this.wolf.y>=this.canvas.item.height&&(this.wolf.y=0),this.wolf.cells.unshift({x:this.wolf.x,y:this.wolf.y}),this.wolf.cells.length>this.wolf.maxCells&&this.wolf.cells.pop(),context.drawImage(this.bobIcon,this.bob.x,this.bob.y,this.gridSize-1,this.gridSize-1);let wolfDirection="";this.wolf.cells.forEach((cell,index)=>{this.wolf.dx>0?this.wolf.direction="right":this.wolf.dx<0?this.wolf.direction="left":this.wolf.dy<0?this.wolf.direction="up":this.wolf.dy>0&&(this.wolf.direction="down"),wolfDirection=this.wolf.direction.charAt(0).toUpperCase()+this.wolf.direction.slice(1),0==this.directionCount&&(this.wolfFrontSrc=eval("this.wolfFront"+wolfDirection),this.wolfMidSrc=eval("this.wolfMid"+wolfDirection)),0==index?context.drawImage(this.wolfFrontSrc,cell.x,cell.y,this.gridSize-1,this.gridSize-1):context.drawImage(this.wolfMidSrc,cell.x,cell.y,this.gridSize-1,this.gridSize-1),cell.x===this.bob.x&&cell.y===this.bob.y&&(this.wolf.maxCells++,this.score+=10,this.scoreField.item.innerHTML=this.score,this.bob.x=this.getRandomInt(0,this.canvasSize/this.gridSize)*this.gridSize,this.bob.y=this.getRandomInt(0,this.canvasSize/this.gridSize)*this.gridSize);for(let e=index+1;e<this.wolf.cells.length;e++)cell.x===this.wolf.cells[e].x&&cell.y===this.wolf.cells[e].y&&(this.messageStart.item.style.display="none",this.messageGameOver.item.style.display="block",this.message.item.classList.add("game-message--active"),this.endGame())}),this.directionCount<this.wolf.cells.length&&this.directionCount++,this.updateRemainingCells()}resetDirectionCount(){this.directionCount=0,this.remainingCells=this.wolf.cells.length-this.directionCount}updateRemainingCells(){this.remainingCells>0&&this.remainingCells--}capNameInput(){if(!this.nameInput.item)return;const e=this.nameInput.item.getAttribute("maxlength");this.nameInput.item.addEventListener("keyup",()=>{this.nameInput.item.value.length>e&&(this.nameInput.item.value=this.nameInput.item.value.substring(0,e))})}},_applyDecoratedDescriptor(_class.prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleButtonClick",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleButtonClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"pause",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"pause"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unpause",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"unpause"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getRandomInt",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getRandomInt"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"startGame",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"startGame"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"endGame",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"endGame"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"saveGame",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"saveGame"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"viewLeaderboard",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"viewLeaderboard"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getHighScore",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getHighScore"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"loop",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"loop"),_class.prototype),_class);

},{"decko":33,"live-node-list":36}],9:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _dec,_class,_liveNodeList=require("live-node-list"),_decko=require("decko");function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,i,r,s){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},o),s&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(s):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let Header=exports.default=(_dec=(0,_decko.debounce)(100),_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"header",new _liveNodeList.LiveElement("#header")),_defineProperty(this,"lastScrollPosition",0),this.registerListeners()}registerListeners(){this.header.item&&(window.addEventListener("scroll",e=>{this.setHeaderVisibility()},{passive:!0}),document.addEventListener("turbolinks:load",e=>{this.header.item.classList.remove("header--hidden"),document.body.classList.remove("page--scrolled")}),this.header.item.classList.remove("header--hidden"),document.body.classList.remove("page--scrolled"))}async setHeaderVisibility(){requestAnimationFrame(e=>{const t=this.lastScrollPosition;window.pageYOffset>10?document.body.classList.add("page--scrolled"):window.pageYOffset<t-10&&document.body.classList.remove("page--scrolled"),window.pageYOffset>50&&window.pageYOffset>t+10?this.header.item.classList.add("header--hidden"):(window.pageYOffset<t-10||window.pageYOffset<175)&&this.header.item.classList.remove("header--hidden"),this.lastScrollPosition=window.pageYOffset})}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setHeaderVisibility",[_decko.bind,_dec],Object.getOwnPropertyDescriptor(_class.prototype,"setHeaderVisibility"),_class.prototype),_class);

},{"decko":33,"live-node-list":36}],10:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=require("live-node-list"),_decko=require("decko"),_helpers=require("../helpers"),_queryString=_interopRequireDefault(require("query-string")),_slugify=_interopRequireDefault(require("slugify"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,i,s,n){var r={};return Object.keys(s).forEach(function(e){r[e]=s[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce(function(i,s){return s(e,t,i)||i},r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}const FEED_URL="/api/homepage-feed";let CURRENT_PAGE=1,TYPE="",HomePageFeed=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"feedContainer",new _liveNodeList.LiveElement(".home-page-feed-pp__feed")),_defineProperty(this,"feedFilters",new _liveNodeList.LiveNodeList("[data-feed-type]")),_defineProperty(this,"loadMoreLinks",new _liveNodeList.LiveNodeList(".home-page-feed-pp__load-more__link")),_defineProperty(this,"navToggle",new _liveNodeList.LiveElement("#nav-toggle")),_defineProperty(this,"toggleLabel",new _liveNodeList.LiveElement(".nav-toggle__label")),this.registerListeners()}registerListeners(){this.filterFeed(),this.feedContainer.on("update",(e,t)=>{this.filterFeed()}),this.feedFilters.forEach(e=>{this.feedContainer.addDelegatedEventListener(e,"click",this.handleFilterLinkClick)}),this.feedFilters.on("update",(e,t)=>{e.forEach(e=>{this.feedContainer.addDelegatedEventListener(e,"click",this.handleFilterLinkClick)})}),this.loadMoreLinks.addEventListener("click",e=>{this.loadMore(e)})}handleFilterLinkClick(e){e.preventDefault();const t=e.currentTarget||e.target;let i=t.dataset.feedType;CURRENT_PAGE=1,TYPE=i,Turbolinks.controller.pushHistoryWithLocationAndRestorationIdentifier(`/?filter=${i}`,"filter-feed"),this.closeNav(e),this.updateFeed(i),t.blur()}closeNav(e){e.stopPropagation(),document.body.classList.contains("nav-open")&&(document.body.classList.remove("nav-open"),this.changeLabelText("Open Menu"))}changeLabelText(e="Open Menu"){this.toggleLabel.item.innerHTML=e,this.navToggle.title=this.toggleLabel.item.innerText}filterFeed(){if(!this.feedContainer.item)return;CURRENT_PAGE=1,TYPE="";const e=_queryString.default.parse(location.search);e.filter?this.updateFeed(e.filter):this.updateFeed()}updateFeed(e){if(e){let t=25;"work"==(e=(0,_slugify.default)(e,{lower:!0}))?t=25:"social"==e&&(t=25),this.injectElements(e,t),1==CURRENT_PAGE&&(0,_helpers.scrollToElement)(this.feedContainer.item),this.updateNav(e)}else this.injectElements()}updateNav(e){this.feedFilters.forEach(t=>{const i=t.dataset.feedType.toLowerCase();e==i?t.classList.add("main-nav__link--active"):t.classList.remove("main-nav__link--active")})}loadMore(e){e.preventDefault(),CURRENT_PAGE++,this.updateFeed(TYPE)}async injectElements(e,t){this.feedContainer.pause();const i=e?FEED_URL+"?page="+CURRENT_PAGE+"&types="+e+"&limit="+t:FEED_URL+"?page="+CURRENT_PAGE;await fetch(i,{method:"GET",credentials:"include"}).then(e=>e.json()).then(t=>{const i=Object.keys(t.items).map(e=>`\n          <div class="home-page-feed-pp__feed-item feed-item feed-item--${t.items[e].type} ${t.items[e].socialType?"feed-item--"+t.items[e].type+"-"+(0,_slugify.default)(t.items[e].socialType,{lower:!0}):""} ${t.items[e].images?"feed-item--with-image":""}">\n            ${t.items[e].url?'<a href="'+t.items[e].url+'" class="feed-item__link">':""}\n\n            ${t.items[e].images?`\n              <div class="feed-item__image">\n                <figure class="image objFit">\n                  <picture class="image__image">\n                    <img \n                      src="${t.items[e].images.image_placeholder}" \n                      sizes="(min-width: 1020px) ${"workPage"===t.items[e].type?"50vw, 100vw":"25vw, 50vw"}" \n                      alt="${t.items[e].imageAlt}" \n                      crossorigin="anonymous" \n                      srcset="${t.items[e].images.image_2048} 2048w, \n                               ${t.items[e].images.image_4096} 4096w"\n                    >\n                  </picture>\n                </figure>\n              </div>\n            `:""}\n            \n            ${t.items[e].staticGif?`\n              <div class="home-page-feed-pp__static-image">\n                <img sizes="(min-width: 1020px) 50vw, 100vw" \n                    ${t.items[e].staticGifAlt?`\n                      alt = "${t.items[e].staticGifAlt}"\n                    `:""}\n                     crossorigin="anonymous" \n                     src="${t.items[e].staticGif.url}"\n                >\n              </div>\n            `:""}\n\n              ${"workPage"!==t.items[e].type&&"Instagram"!==t.items[e].socialType?`\n                <h4 class="feed-item__title">\n                  ${t.items[e].title}\n                </h4>`:""}\n\n              ${"Twitter"===t.items[e].socialType?'\n                <div class="feed-item__icon">\n                  <svg width="16" height="13" viewBox="0 0 16 13" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g transform="translate(-186.000000, -456.000000)" fill="#000000"> <path d="M202,457.537037 C201.407407,457.796296 200.777778,457.981481 200.111111,458.055556 C200.796296,457.648148 201.314815,457 201.555556,456.240741 C200.925926,456.611111 200.222222,456.888889 199.481481,457.037037 C198.87037,456.407407 198.018519,456 197.074074,456 C195.259259,456 193.796296,457.462963 193.796296,459.277778 C193.796296,459.537037 193.814815,459.796296 193.87037,460.037037 C191.148148,459.888889 188.740741,458.648148 187.111111,456.666667 C186.833333,457.148148 186.666667,457.648148 186.666667,458.259259 C186.666667,459.388889 187.240741,460.388889 188.12963,460.981481 C187.592593,460.962963 187.092593,460.814815 186.648148,460.574074 L186.648148,460.611111 C186.648148,462.203704 187.777778,463.537037 189.277778,463.833333 C189,463.907407 188.703704,463.944444 188.407407,463.944444 C188.203704,463.944444 188,463.925926 187.796296,463.888889 C188.203704,465.185185 189.425926,466.148148 190.851852,466.166667 C189.740741,467.055556 188.314815,467.722222 186.777778,467.722222 C186.518519,467.722222 186.259259,467.703704 186,467.666667 C187.444444,468.592593 189.185185,469 191.037037,469 C197.074074,469 200.37037,464 200.37037,459.666667 L200.37037,459.240741 C201,458.777778 201.555556,458.203704 202,457.537037 Z"></path> </g> </g> </svg>\n                </div>\n              ':""}\n\n              ${"Instagram"===t.items[e].socialType?'\n                <div class="feed-item__icon">\n                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 512 512" fill="#000000"> <path d="M256 49.5c67.3 0 75.2.3 101.8 1.5 24.6 1.1 37.9 5.2 46.8 8.7 11.8 4.6 20.2 10 29 18.8s14.3 17.2 18.8 29c3.4 8.9 7.6 22.2 8.7 46.8 1.2 26.6 1.5 34.5 1.5 101.8s-.3 75.2-1.5 101.8c-1.1 24.6-5.2 37.9-8.7 46.8-4.6 11.8-10 20.2-18.8 29s-17.2 14.3-29 18.8c-8.9 3.4-22.2 7.6-46.8 8.7-26.6 1.2-34.5 1.5-101.8 1.5s-75.2-.3-101.8-1.5c-24.6-1.1-37.9-5.2-46.8-8.7-11.8-4.6-20.2-10-29-18.8s-14.3-17.2-18.8-29c-3.4-8.9-7.6-22.2-8.7-46.8-1.2-26.6-1.5-34.5-1.5-101.8s.3-75.2 1.5-101.8c1.1-24.6 5.2-37.9 8.7-46.8 4.6-11.8 10-20.2 18.8-29s17.2-14.3 29-18.8c8.9-3.4 22.2-7.6 46.8-8.7 26.6-1.3 34.5-1.5 101.8-1.5m0-45.4c-68.4 0-77 .3-103.9 1.5C125.3 6.8 107 11.1 91 17.3c-16.6 6.4-30.6 15.1-44.6 29.1-14 14-22.6 28.1-29.1 44.6-6.2 16-10.5 34.3-11.7 61.2C4.4 179 4.1 187.6 4.1 256s.3 77 1.5 103.9c1.2 26.8 5.5 45.1 11.7 61.2 6.4 16.6 15.1 30.6 29.1 44.6 14 14 28.1 22.6 44.6 29.1 16 6.2 34.3 10.5 61.2 11.7 26.9 1.2 35.4 1.5 103.9 1.5s77-.3 103.9-1.5c26.8-1.2 45.1-5.5 61.2-11.7 16.6-6.4 30.6-15.1 44.6-29.1 14-14 22.6-28.1 29.1-44.6 6.2-16 10.5-34.3 11.7-61.2 1.2-26.9 1.5-35.4 1.5-103.9s-.3-77-1.5-103.9c-1.2-26.8-5.5-45.1-11.7-61.2-6.4-16.6-15.1-30.6-29.1-44.6-14-14-28.1-22.6-44.6-29.1-16-6.2-34.3-10.5-61.2-11.7-27-1.1-35.6-1.4-104-1.4z"></path><path d="M256 126.6c-71.4 0-129.4 57.9-129.4 129.4s58 129.4 129.4 129.4 129.4-58 129.4-129.4-58-129.4-129.4-129.4zm0 213.4c-46.4 0-84-37.6-84-84s37.6-84 84-84 84 37.6 84 84-37.6 84-84 84z"></path> <circle cx="390.5" cy="121.5" r="30.2"></circle> </svg>\n                </div>\n              ':""}\n\n              ${"shop"===t.items[e].type?'\n                <div class="feed-item__icon">\n                  <svg width="26" height="23" viewBox="0 0 26 23" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M0.913862 0.0022526C-0.17099 -0.0311472 -0.35334 1.5375 0.710742 1.75288L2.67038 2.18132C3.70675 7.13144 4.83776 12.0609 5.93301 16.9984C6.02303 17.4038 6.38309 17.6917 6.79858 17.6906H22.3639C23.563 17.7078 23.563 15.9042 22.3639 15.9215H7.5109L7.11852 14.1524H23.1501C23.5655 14.1524 23.9256 13.8645 24.0156 13.4591L25.9787 4.61498C26.1011 4.0633 25.6798 3.53928 25.1143 3.53928C18.3329 3.53928 11.5515 3.53928 4.77013 3.53582L4.28887 1.25424C4.21732 0.913341 3.95189 0.647275 3.61141 0.572414L1.09089 0.0218832C1.03319 0.00806395 0.974331 0.00115284 0.915472 0L0.913862 0.0022526ZM10.4881 18.2825C9.19324 18.2825 8.12455 19.349 8.12455 20.6413C8.12455 21.9335 9.19324 23 10.4881 23C11.783 23 12.8517 21.9335 12.8517 20.6413C12.8517 19.349 11.783 18.2825 10.4881 18.2825ZM18.7606 18.2825C17.4658 18.2825 16.3971 19.349 16.3971 20.6413C16.3971 21.9335 17.4658 23 18.7606 23C20.0555 23 21.1242 21.9335 21.1242 20.6413C21.1242 19.349 20.0555 18.2825 18.7606 18.2825Z" fill="black"/> </svg>\n                </div>\n              ':""}\n\n              ${t.items[e].clientName?`\n                <div class="feed-item__client-container">\n                  <div class="feed-item__icon">\n                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.72928L6.02214 5.72928L6.02214 0L10.9779 0V5.72928L17 5.72928L17 11.2707L10.9779 11.2707L10.9779 17L6.02214 17L6.02214 11.2707L0 11.2707L0 5.72928Z" fill="#000000"/> </svg>\n                  </div>\n                  <h5 class="feed-item__client">\n                    ${t.items[e].clientName}\n                  </h5>\n                </div>`:""}\n\n              ${"workPage"===t.items[e].type?`\n                <div class="feed-item__title-container">\n                  <div class="feed-item__icon">\n                    <svg width="116" height="76" viewBox="0 0 116 76" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M57.5429 75.1378L80.554 48.99H0.0151367V26.8996H80.554L57.5429 0.756836H83.8413L115.813 37.8747L83.8413 75.1378H57.5429Z" fill="#000000"/> </svg>\n                  </div>\n                  <h4 class="feed-item__title">\n                    <span data-name="${t.items[e].title}">\n                      ${t.items[e].title}\n                    </span>\n                  </h4>\n                </div>`:""}\n\n                ${t.items[e].feedGif?`\n                  <div class="feed-item__gif">\n                    <img sizes="5vw" \n                        ${t.items[e].feedGifAlt?`\n                          alt = "${t.items[e].feedGifAlt}"\n                        `:""}\n                         crossorigin="anonymous" \n                         src="${t.items[e].feedGif.url}"\n                    >\n                  </div>\n                `:""}\n\n            ${t.items[e].url?"</a>":""}\n          </div>\n        `).join("");1==CURRENT_PAGE?this.feedContainer.item.innerHTML='<div class="home-page-feed-pp__feed-page" data-page="'+CURRENT_PAGE+'">'+i+"</div>":this.feedContainer.item.innerHTML+='<div class="home-page-feed-pp__feed-page" data-page="'+CURRENT_PAGE+'">'+i+"</div>";const s=document.querySelector('.home-page-feed-pp__feed-page[data-page="'+CURRENT_PAGE+'"]'),n=document.querySelectorAll('.home-page-feed-pp__feed-page[data-page="'+CURRENT_PAGE+'"] .home-page-feed-pp__feed-item');s&&CURRENT_PAGE>1?(setTimeout(()=>{(0,_helpers.scrollToElement)(s,500)},500),setTimeout(()=>{n.forEach(e=>{e.classList.add("animate-on-scroll");const t=e;e.remove(),s.appendChild(t)})},1e3)):n.forEach(e=>{e.classList.add("animate-on-scroll")}),t.page<t.pageCount?this.loadMoreLinks.forEach(e=>{e.style.display="inline-flex"}):this.loadMoreLinks.forEach(e=>{e.style.display="none"}),this.updateNav(e)}),this.feedContainer.resume()}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleFilterLinkClick",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleFilterLinkClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeNav",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"closeNav"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filterFeed",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"filterFeed"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateFeed",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"updateFeed"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateNav",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"updateNav"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"loadMore",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"loadMore"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"injectElements",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"injectElements"),_class.prototype),_class);

},{"../helpers":21,"decko":33,"live-node-list":36,"query-string":42,"slugify":48}],11:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=_interopRequireDefault(require("live-node-list")),_decko=require("decko"),_helpers=require("../helpers");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,r,o,s){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,o){return o(e,t,r)||r},i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let ImageLazyLoader=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(e,t={}){_defineProperty(this,"config",{rootMargin:"100px 0px",threshold:[0,.25,.5,.75,1]}),_defineProperty(this,"containerSelector",".lazy-load-container"),_defineProperty(this,"selector",null),_defineProperty(this,"images",null),_defineProperty(this,"containers",null),_defineProperty(this,"observer",null),_defineProperty(this,"paused",!1),this.selector=e,this.config=_objectSpread(_objectSpread({},this.config),t),this.collect(),this.images.forEach(e=>{(0,_helpers.isInViewport)(e)&&this.load(e)}),this.observer=new IntersectionObserver(this.intersect,this.config),this.observe()}collect(){this.images=new _liveNodeList.default(this.selector),this.containers=new _liveNodeList.default(this.containerSelector),this.images.on("update",(e,t)=>{t.forEach(e=>this.observer.unobserve(e)),e.forEach(e=>this.observer.observe(e))}),this.containers.on("update",(e,t)=>{t.forEach(e=>this.observer.unobserve(e)),e.forEach(e=>this.observer.observe(e))})}observe(){this.images.forEach(e=>this.observer.observe(e)),this.containers.forEach(e=>this.observer.observe(e))}unobserve(){this.images.forEach(e=>this.observer.unobserve(e)),this.containers.forEach(e=>this.observer.unobserve(e))}intersect(e){this.paused||e.forEach(e=>{if(e.isIntersecting&&e.intersectionRatio>0){if(e.target.matches(this.containerSelector))return void Promise.all(Array.prototype.map.call(e.target.querySelectorAll(this.selector),this.load)).then(()=>{this.observer.unobserve(e.target)});this.load(e.target).then(()=>{this.observer.unobserve(e.target)}).catch(t=>{this.observer.unobserve(e.target)})}})}load(e){return new Promise((t,r)=>{e.addEventListener("load",()=>{requestAnimationFrame(()=>{e.removeAttribute("data-lazy-load-src"),e.removeAttribute("data-lazy-load-srcset")});const r=e.closest(".slideshow");r&&r.magicRoundabout&&r.magicRoundabout.transition(),t(!0)}),e.addEventListener("error",e=>{r(e)}),"srcset"in e&&"lazyLoadSrcset"in e.dataset?e.srcset=e.dataset.lazyLoadSrcset:"lazyLoadSrc"in e.dataset&&(e.src=e.dataset.lazyLoadSrc)})}refreshImages(){this.unobserve(),this.collect(),this.observe()}pause(){this.paused=!0}unpause(){this.paused=!1}}).prototype,"collect",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"collect"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"observe",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"observe"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unobserve",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"unobserve"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"intersect",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"intersect"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"load",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"load"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"refreshImages",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"refreshImages"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"pause",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"pause"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unpause",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"unpause"),_class.prototype),_class);

},{"../helpers":21,"decko":33,"live-node-list":36}],12:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_decko=require("decko"),_magicRoundabout=_interopRequireDefault(require("magic-roundabout")),_liveNodeList=require("live-node-list");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,i,r,o){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let ImageTextCtaSlideshow=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"imageTextCtaSlideshows",new _liveNodeList.LiveNodeList(".image-text-cta-pp__slideshow")),this.registerListeners()}registerListeners(){this.imageTextCtaSlideshows.forEach(this.createSlideshow),this.imageTextCtaSlideshows.on("update",(e,t)=>{e.forEach(this.createSlideshow)})}createSlideshow(e){this.slideshow=new _magicRoundabout.default(e,{buttons:!0,click:!0,keys:!0,limit:!0,loop:!0})}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createSlideshow",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"createSlideshow"),_class.prototype),_class);

},{"decko":33,"live-node-list":36,"magic-roundabout":40}],13:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=require("live-node-list"),_decko=require("decko"),_helpers=require("../helpers");function _defineProperty(e,o,t){return(o=_toPropertyKey(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function _toPropertyKey(e){var o=_toPrimitive(e,"string");return"symbol"==typeof o?o:String(o)}function _toPrimitive(e,o){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,o||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}function _applyDecoratedDescriptor(e,o,t,r,c){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,r){return r(e,o,t)||t},i),c&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(c):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,o,i),i=null),i}let LegalAccordion=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"legalAccordions",new _liveNodeList.LiveNodeList(".legal-accordion")),this.registerListeners()}registerListeners(){this.legalAccordions.forEach(this.createLegalAccordion),this.legalAccordions.on("update",(e,o)=>{e.forEach(this.createLegalAccordion)})}createLegalAccordion(e){e.querySelectorAll(".legal-accordion-item__title").forEach(o=>{o.addEventListener("click",t=>{this.updateUrl(t),this.toggleAccordion(e,o)})}),setTimeout(()=>{this.initAccordion(e)})}initAccordion(e){const o=window.location.pathname.substring(1);e.querySelectorAll(".legal-accordion-item").forEach(t=>{const r=t.id,c=t.querySelector(".legal-accordion-item__content"),i=t.querySelector(".legal-accordion-item__toggle .screenreader-text");o===r?this.openAccordion(c,t,i,e):this.closeAccordion(c,t,i,e)})}toggleAccordion(e,o){const t=o.parentNode,r=t.querySelector(".legal-accordion-item__content"),c=t.querySelector(".legal-accordion-item__toggle .screenreader-text");t.classList.contains("legal-accordion-item--active")?this.closeAccordion(r,t,c):(t.parentNode.querySelectorAll(".legal-accordion-item--active").forEach(e=>{const o=e.querySelector(".legal-accordion-item__content"),t=e.querySelector(".legal-accordion-item__toggle .screenreader-text");this.closeAccordion(o,e,t)}),this.openAccordion(r,t,c,e)),e.querySelector(".legal-accordion-item--active")?e.classList.add("legal-accordion--active"):e.classList.remove("legal-accordion--active")}updateUrl(e){const o=(e.currentTarget||e.target).parentNode.id;Turbolinks.controller.pushHistoryWithLocationAndRestorationIdentifier(o,`open-${o}`)}openAccordion(e,o,t,r){(0,_helpers.slideDown)(e,"1s"),o.classList.add("legal-accordion-item--active"),t.innerHTML="Close accordion item",r.classList.add("legal-accordion--active"),setTimeout(()=>{(0,_helpers.scrollToElement)(o)},500)}closeAccordion(e,o,t){e.style.height=0,o.classList.remove("legal-accordion-item--active"),t.innerHTML="Open accordion item"}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createLegalAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"createLegalAccordion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"initAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"initAccordion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"toggleAccordion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateUrl",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"updateUrl"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"openAccordion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeAccordion",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"closeAccordion"),_class.prototype),_class);

},{"../helpers":21,"decko":33,"live-node-list":36}],14:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=require("live-node-list"),_decko=require("decko");function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,i,r,n){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,r){return r(e,t,i)||i},s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}const NAV_URL="/api/nav",ASSET_PATH="/frontend/img/";let Nav=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"header",new _liveNodeList.LiveElement("#header")),_defineProperty(this,"nav",new _liveNodeList.LiveNodeList(".header__nav")),_defineProperty(this,"navItems",new _liveNodeList.LiveNodeList(".main-nav__list-item")),_defineProperty(this,"navToggle",new _liveNodeList.LiveElement("#nav-toggle")),_defineProperty(this,"searchToggles",new _liveNodeList.LiveNodeList("#search-toggle")),_defineProperty(this,"toggleLabel",new _liveNodeList.LiveElement(".nav-toggle__label")),this.registerListeners()}registerListeners(){this.header.item&&(this.updateNavItems(),this.navItems.on("update",(e,t)=>{this.updateNavItems()}),this.navToggle.addEventListener("click",e=>{this.toggleNav(e)}))}updateNavItems(){this.navItems.pause(),this.injectFilterCounts(),this.refreshActiveStates(),this.navItems.resume()}injectSearchLink(){this.navItems.forEach(e=>{e.querySelector(".main-nav__link").href.toLowerCase().endsWith("work")&&(e.innerHTML=`\n          <a href="javascript:void(0)" class="header__search-toggle search-toggle" id="search-toggle" title="Open search">\n            <span class="search-toggle__label screenreader-text">Open Search</span>\n            <svg class="search-toggle__open" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M20.6046 19.4581L15.4029 14.2565C17.1717 12.0824 17.6949 9.15137 16.7887 6.49984C15.8824 3.84832 13.6747 1.84986 10.9459 1.21292C8.2171 0.575932 5.35202 1.3897 3.36577 3.36569C1.38973 5.35185 0.575854 8.21672 1.21298 10.9457C1.84998 13.6745 3.8484 15.8821 6.49995 16.7885C9.1515 17.6947 12.0826 17.1715 14.2567 15.4027L19.4583 20.6043C19.7804 20.8807 20.2619 20.8624 20.5617 20.5617C20.8624 20.262 20.8807 19.7804 20.6043 19.4584L20.6046 19.4581ZM4.51193 13.7119C3.29177 12.4928 2.60601 10.8388 2.60601 9.11366C2.60601 7.38961 3.29076 5.73573 4.5099 4.51543C5.72904 3.2963 7.38304 2.61054 9.10817 2.61054C10.8333 2.61054 12.4872 3.2963 13.7064 4.51543C14.9256 5.73557 15.6103 7.38958 15.6103 9.11366C15.6103 10.8387 14.9246 12.4926 13.7044 13.7119C12.4903 14.9402 10.8354 15.632 9.10822 15.632C7.38101 15.632 5.7261 14.9401 4.51203 13.7119H4.51193Z" fill="#D1FF00"/> <path d="M20.6046 19.4581L20.9568 19.813L21.3131 19.4595L20.9581 19.1046L20.6046 19.4581ZM15.4029 14.2565L15.0151 13.9409L14.7303 14.291L15.0494 14.61L15.4029 14.2565ZM10.9459 1.21292L10.8322 1.69983L10.8322 1.69983L10.9459 1.21292ZM3.36577 3.36569L3.01313 3.01122L3.01131 3.01304L3.36577 3.36569ZM1.21298 10.9457L1.69989 10.8321L1.69989 10.8321L1.21298 10.9457ZM6.49995 16.7885L6.33822 17.2616L6.33825 17.2616L6.49995 16.7885ZM14.2567 15.4027L14.6102 15.0492L14.2912 14.7301L13.9411 15.0149L14.2567 15.4027ZM19.4583 20.6043L19.1048 20.9579L19.1183 20.9714L19.1328 20.9838L19.4583 20.6043ZM20.5617 20.5617L20.2087 20.2075L20.2075 20.2087L20.5617 20.5617ZM20.6043 19.4584L20.2522 19.1034L19.922 19.431L20.2249 19.784L20.6043 19.4584ZM4.51193 13.7119L4.15852 14.0656L4.30494 14.2119H4.51193V13.7119ZM4.5099 4.51543L4.15635 4.16187L4.15618 4.16204L4.5099 4.51543ZM13.7064 4.51543L14.0601 4.16202L14.06 4.16185L13.7064 4.51543ZM13.7044 13.7119L13.351 13.3582L13.3488 13.3604L13.7044 13.7119ZM4.51203 13.7119L4.86763 13.3604L4.72084 13.2119H4.51203V13.7119ZM20.9581 19.1046L15.7565 13.9029L15.0494 14.61L20.251 19.8117L20.9581 19.1046ZM15.7908 14.572C17.6684 12.2641 18.2238 9.15276 17.2618 6.33814L16.3155 6.66155C17.166 9.14997 16.675 11.9006 15.0151 13.9409L15.7908 14.572ZM17.2618 6.33814C16.2998 3.52361 13.9563 1.40216 11.0595 0.72601L10.8322 1.69983C13.393 2.29756 15.465 4.17303 16.3155 6.66155L17.2618 6.33814ZM11.0596 0.726012C8.1629 0.0498391 5.12161 0.913641 3.01313 3.01122L3.7184 3.72016C5.58244 1.86575 8.2713 1.10203 10.8322 1.69983L11.0596 0.726012ZM3.01131 3.01304C0.913685 5.12141 0.0497537 8.16251 0.726073 11.0594L1.69989 10.8321C1.10195 8.27092 1.86578 5.58228 3.72022 3.71834L3.01131 3.01304ZM0.72607 11.0594C1.40228 13.9562 3.5237 16.2995 6.33822 17.2616L6.66168 16.3153C4.1731 15.4647 2.29767 13.3928 1.69989 10.8321L0.72607 11.0594ZM6.33825 17.2616C9.15289 18.2236 12.2644 17.6682 14.5722 15.7906L13.9411 15.0149C11.9009 16.6748 9.15011 17.1658 6.66166 16.3153L6.33825 17.2616ZM13.9031 15.7563L19.1048 20.9579L19.8119 20.2508L14.6102 15.0492L13.9031 15.7563ZM19.1328 20.9838C19.6531 21.4302 20.431 21.401 20.9158 20.9146L20.2075 20.2087C20.0929 20.3237 19.9077 20.3311 19.7839 20.2249L19.1328 20.9838ZM20.9146 20.9158C21.401 20.4311 21.4303 19.6531 20.9838 19.1328L20.2249 19.784C20.3311 19.9078 20.3237 20.0929 20.2087 20.2075L20.9146 20.9158ZM20.9565 19.8133L20.9568 19.813L20.2524 19.1032L20.2522 19.1034L20.9565 19.8133ZM4.86533 13.3582C3.73901 12.2328 3.10601 10.7061 3.10601 9.11366H2.10601C2.10601 10.9715 2.84454 12.7527 4.15852 14.0656L4.86533 13.3582ZM3.10601 9.11366C3.10601 7.5222 3.7381 5.9954 4.86362 4.86881L4.15618 4.16204C2.84342 5.47605 2.10601 7.25701 2.10601 9.11366H3.10601ZM4.86345 4.86898C5.98888 3.74356 7.51573 3.11054 9.10817 3.11054V2.11054C7.25034 2.11054 5.46919 2.84904 4.15635 4.16187L4.86345 4.86898ZM9.10817 3.11054C10.7006 3.11054 12.2273 3.74355 13.3529 4.869L14.06 4.16185C12.747 2.84905 10.966 2.11054 9.10817 2.11054V3.11054ZM13.3527 4.86884C14.4782 5.99525 15.1103 7.52215 15.1103 9.11366H16.1103C16.1103 7.25701 15.3729 5.47589 14.0601 4.16202L13.3527 4.86884ZM15.1103 9.11366C15.1103 10.706 14.4773 12.2327 13.351 13.3582L14.0578 14.0656C15.3718 12.7526 16.1103 10.9715 16.1103 9.11366H15.1103ZM13.3488 13.3604C12.2286 14.4937 10.7017 15.132 9.10822 15.132V16.132C10.9692 16.132 12.7521 15.3866 14.06 14.0634L13.3488 13.3604ZM9.10822 15.132C7.51476 15.132 5.98787 14.4937 4.86763 13.3604L4.15643 14.0634C5.46433 15.3866 7.24726 16.132 9.10822 16.132V15.132ZM4.51203 13.2119H4.51193V14.2119H4.51203V13.2119Z" fill="#D1FF00"/> </svg>\n            <svg class="search-toggle__close" width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M21 18.9864L12.5117 10.5L21 2.01359L18.9864 0L10.5 8.48831L2.01359 0L0 2.01359L8.48831 10.5L0 18.9864L2.01359 21L10.5 12.5117L18.9864 21L21 18.9864Z" fill="#D1FF00"/> </svg>\n          </a>\n\n          ${e.innerHTML}\n        `)})}async injectFilterCounts(){await fetch(NAV_URL,{method:"GET",credentials:"include"}).then(e=>e.json()).then(e=>{let t="",i=0;this.navItems.forEach(r=>{const n=r.querySelector(".main-nav__link"),s=n.href.toLowerCase();s.endsWith("work")&&(t=e.work.title,i=e.work.count),s.endsWith("social")&&(t=e.social.title,i=e.social.count),(s.endsWith("work")||s.endsWith("social"))&&(n.setAttribute("data-feed-type",t),n.innerHTML=`\n              <span>\n                ${n.innerHTML}\n\n                <sup>\n                  (${("0"+i).slice(-2)})\n                </sup>\n              </span>\n            `)})})}changeLabelText(e="Open Menu"){this.toggleLabel.item.innerHTML=e,this.navToggle.title=this.toggleLabel.item.innerText}toggleNav(e){e.stopPropagation(),document.body.classList.contains("nav-open")?this.closeNav(e):this.openNav(e)}openNav(e){this.closeSearch(),document.body.classList.add("nav-open"),this.changeLabelText("Close Menu")}closeNav(e){document.body.classList.remove("nav-open"),this.changeLabelText("Open Menu")}closeSearch(){this.searchToggles.forEach(e=>{const t=e.querySelector(".search-toggle__label");t.innerHTML="Open Search",e.title=t.innerText}),document.body.classList.remove("search-open")}refreshActiveStates(){let e=1;this.navItems.forEach(t=>{const i=t.querySelector(".main-nav__link");let r=i.querySelector(".main-nav__link__underline");r&&i.removeChild(r),(r=document.createElement("img")).classList.add("main-nav__link__underline"),i.classList.contains("main-nav__link--active")?r.src=ASSET_PATH+"underline--nav-"+e+".gif":r.src="",i.appendChild(r),e<6?e++:e=1})}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleNav",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"toggleNav"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openNav",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"openNav"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeNav",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"closeNav"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeSearch",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"closeSearch"),_class.prototype),_class);

},{"decko":33,"live-node-list":36}],15:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _dec,_class,_decko=require("decko"),_liveNodeList=require("live-node-list");function _defineProperty(e,i,t){return(i=_toPropertyKey(i))in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function _toPropertyKey(e){var i=_toPrimitive(e,"string");return"symbol"==typeof i?i:String(i)}function _toPrimitive(e,i){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,i||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}function _applyDecoratedDescriptor(e,i,t,r,o){var s={};return Object.keys(r).forEach(function(e){s[e]=r[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=t.slice().reverse().reduce(function(t,r){return r(e,i,t)||t},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,i,s),s=null),s}let PageTransition=exports.default=(_dec=(0,_decko.debounce)(100),_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"modifierElements",new _liveNodeList.LiveNodeList("[data-body-modifier]")),this.registerListeners()}registerListeners(){this.setBodyModifier(),window.addEventListener("scroll",e=>{this.setBodyModifier()},{passive:!0}),document.addEventListener("turbolinks:load",e=>{this.setBodyModifier()})}async setBodyModifier(){0!==this.modifierElements.items.length&&requestAnimationFrame(e=>{let i=this.modifierElements.items.length-1,t=this.modifierElements.items[i];for(;t&&t.getBoundingClientRect().top>150+parseInt(t.dataset.bodyModifierOffset||0);)i--,t=this.modifierElements.items[i];let r="black";t&&(r=t.dataset.bodyModifier||r,"bodyModifierMobile"in t.dataset&&window.matchMedia("(max-width: 1020px)").matches&&(r=t.dataset.bodyModifierMobile)),document.body.className.split(" ").forEach(e=>{e.startsWith("body--modifier-")&&e!==`body--modifier-${r}`&&document.body.classList.remove(e)}),document.body.classList.contains(`body--modifier-${r}`)||document.body.classList.add(`body--modifier-${r}`)})}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setBodyModifier",[_decko.bind,_dec],Object.getOwnPropertyDescriptor(_class.prototype,"setBodyModifier"),_class.prototype),_class);

},{"decko":33,"live-node-list":36}],16:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_decko=require("decko"),_magicRoundabout=_interopRequireDefault(require("magic-roundabout")),_liveNodeList=require("live-node-list");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,r,i,o){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let ProductSlideshow=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"productSlideshows",new _liveNodeList.LiveNodeList(".product-item__slideshow")),this.registerListeners()}registerListeners(){this.productSlideshows.forEach(this.createSlideshow),this.productSlideshows.on("update",(e,t)=>{e.forEach(this.createSlideshow)})}createSlideshow(e){this.slideshow=new _magicRoundabout.default(e,{buttons:!0,click:!0,keys:!0,limit:!0,loop:!1})}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createSlideshow",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"createSlideshow"),_class.prototype),_class);

},{"decko":33,"live-node-list":36,"magic-roundabout":40}],17:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=require("live-node-list"),_decko=require("decko"),_slugify=_interopRequireDefault(require("slugify")),_queryString=_interopRequireDefault(require("query-string"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,s){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,s,i,r){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce(function(s,i){return i(e,t,s)||s},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}const FEED_URL="/api/homepage-feed",SEARCH_URL="/api/work-search";let Search=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"search",new _liveNodeList.LiveElement("#search")),_defineProperty(this,"searchToggles",new _liveNodeList.LiveNodeList("#search-toggle")),_defineProperty(this,"navToggle",new _liveNodeList.LiveElement("#nav-toggle")),_defineProperty(this,"searchFilters",new _liveNodeList.LiveNodeList("[data-search-category]")),_defineProperty(this,"searchForm",new _liveNodeList.LiveElement('form[name="search"]')),_defineProperty(this,"searchField",new _liveNodeList.LiveElement("#search_query")),_defineProperty(this,"injected",!1),this.registerListeners()}registerListeners(){this.searchToggles.addEventListener("click",e=>{this.toggleSearch(e)}),this.searchFilters.addEventListener("click",e=>{this.handleFilterLinkClick(e)}),this.searchField.addEventListener("keydown",this.submitSearch)}filterSearchResults(){const e=_queryString.default.parse(location.search);e.query?this.injectResults("",e.query):this.injectResults()}changeLabelText(e,t="Open Search"){const s=e.currentTarget||e.target,i=s.querySelector(".search-toggle__label");i.innerHTML=t,s.title=i.innerText}toggleSearch(e){e.stopPropagation(),document.body.classList.contains("search-open")?this.closeSearch(e):this.openSearch(e)}openSearch(e){this.injected||(this.injectCategories(),this.filterSearchResults(),this.injected=!0),this.closeNav(),document.body.classList.add("search-open"),this.changeLabelText(e,"Close Search")}closeSearch(e){document.body.classList.remove("search-open"),this.changeLabelText(e,"Open Search")}closeNav(){const e=this.navToggle.item.querySelector(".nav-toggle__label");e.innerHTML="Open Menu",this.navToggle.item.title=e.innerText,document.body.classList.remove("nav-open")}async injectCategories(){this.search.pause();const e=this.search.item.querySelector(".search__categories-list");await fetch(FEED_URL,{method:"GET",credentials:"include"}).then(e=>e.json()).then(t=>{const s=Object.keys(t.categories).map(e=>`\n          <li class="search__categories-list-item">\n            <a href="javascript:void(0)" class="search__categories__link" data-search-category="${t.categories[e].name}">\n              ${t.categories[e].name}\n            </a>\n          </li>\n        `).join("");e.innerHTML+=s}),this.search.resume()}handleFilterLinkClick(e){e.preventDefault();const t=e.currentTarget||e.target;let s="";t.classList.contains("search__categories__link--active")?t.classList.remove("search__categories__link--active"):(s=(0,_slugify.default)(t.dataset.searchCategory,{lower:!0}),this.searchFilters.forEach(e=>{e.classList.remove("search__categories__link--active")}),t&&t.classList.add("search__categories__link--active")),this.searchField.item.value="",this.injectResults(s)}async injectResults(e,t){this.search.pause();const s=this.search.item.querySelector(".search__results-list");let i=FEED_URL+"?types=work";t&&(i=SEARCH_URL+"?search="+t),e&&(i=FEED_URL+"?types=work&category="+e),await fetch(i,{method:"GET",credentials:"include"}).then(e=>e.json()).then(e=>{const t=Object.keys(e.items).map(t=>`\n          <li class="search__results-list-item results-item">\n            ${e.items[t].images?`\n              <div class="results-item__image">\n                <figure class="image objFit">\n                  <picture class="image__image">\n                    <img \n                      src="${e.items[t].images.image_placeholder}" \n                      sizes="100vw" \n                      alt="${e.items[t].imageAlt}" \n                      crossorigin="anonymous" \n                      srcset="${e.items[t].images.image_50} 50w,\n                              ${e.items[t].images.image_100} 100w, \n                              ${e.items[t].images.image_200} 200w, \n                              ${e.items[t].images.image_400} 400w, \n                              ${e.items[t].images.image_600} 600w, \n                              ${e.items[t].images.image_800} 800w, \n                              ${e.items[t].images.image_1000} 1000w, \n                              ${e.items[t].images.image_1200} 1200w, \n                              ${e.items[t].images.image_1400} 1400w, \n                              ${e.items[t].images.image_1600} 1600w, \n                              ${e.items[t].images.image_1800} 1800w, \n                              ${e.items[t].images.image_2000} 2000w, \n                              ${e.items[t].images.image_2200} 2200w, \n                              ${e.items[t].images.image_2400} 2400w, \n                              ${e.items[t].images.image_2600} 2600w, \n                              ${e.items[t].images.image_2800} 2800w"\n                    >\n                  </picture>\n                </figure>\n              </div>\n            `:""}\n\n            <a href="${e.items[t].url}" class="results-item__link">\n              ${e.items[t].clientName?`\n                <div class="results-item__client-container">\n                  <div class="results-item__icon">\n                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.72928L6.02214 5.72928L6.02214 0L10.9779 0V5.72928L17 5.72928L17 11.2707L10.9779 11.2707L10.9779 17L6.02214 17L6.02214 11.2707L0 11.2707L0 5.72928Z" fill="#000000"/> </svg>\n                  </div>\n                  <h5 class="results-item__client">\n                    ${e.items[t].clientName}\n                  </h5>\n                </div>`:""}\n\n              ${"workPage"===e.items[t].type?`\n                <div class="results-item__title-container">\n                  <div class="results-item__icon">\n                    <svg width="116" height="76" viewBox="0 0 116 76" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M57.5429 75.1378L80.554 48.99H0.0151367V26.8996H80.554L57.5429 0.756836H83.8413L115.813 37.8747L83.8413 75.1378H57.5429Z" fill="#000000"/> </svg>\n                  </div>\n                  <h4 class="results-item__title">\n                    <span data-name="${e.items[t].title}">\n                      ${e.items[t].title}\n                    </span>\n                  </h4>\n                </div>`:""}\n            </a>\n          </li>\n        `).join("");s.innerHTML=t,this.toggleNoResults(e)}),this.search.resume()}toggleNoResults(e){const t=this.search.item.querySelector(".no-results");Object.keys(e.items).length>=1?t.classList.remove("no-results--active"):t.classList.add("no-results--active")}submitSearch(e){13==(e.keyCode||e.which)&&e.preventDefault(),e.stopPropagation(),this.searchFilters.forEach(e=>{e.classList.remove("search__categories__link--active")});const t=new URL(this.searchForm.item.action);t.query=_queryString.default.stringify({query:this.searchField.item.value}),Turbolinks.controller.pushHistoryWithLocationAndRestorationIdentifier(`${t.pathname}?${t.query}`,"search"),this.filterSearchResults()}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"filterSearchResults",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"filterSearchResults"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleSearch",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"toggleSearch"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openSearch",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"openSearch"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeSearch",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"closeSearch"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeNav",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"closeNav"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"injectCategories",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"injectCategories"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleFilterLinkClick",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleFilterLinkClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"injectResults",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"injectResults"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleNoResults",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"toggleNoResults"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"submitSearch",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"submitSearch"),_class.prototype),_class);

},{"decko":33,"live-node-list":36,"query-string":42,"slugify":48}],18:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=require("live-node-list"),_decko=require("decko");function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"==typeof r?r:String(r)}function _toPrimitive(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function _applyDecoratedDescriptor(e,r,t,o,i){var s={};return Object.keys(o).forEach(function(e){s[e]=o[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=t.slice().reverse().reduce(function(t,o){return o(e,r,t)||t},s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,r,s),s=null),s}let Sharer=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"sharers",new _liveNodeList.LiveNodeList(".sharer")),this.registerListeners()}registerListeners(){this.sharers.forEach(this.createSharer),this.sharers.on("update",(e,r)=>{e.forEach(this.createSharer)}),window.addEventListener("resize",()=>{this.sharers.forEach(this.createSharer)})}createSharer(e){const r=e.querySelector(".sharer__link"),t=e.querySelector(".sharer__toggle"),o=e.querySelector(".sharer__copy");t.addEventListener("click",t=>{window.matchMedia("(min-width: 63.75em)").matches?this.toggleSharer(t,e):this.copyText(r)}),o.addEventListener("click",e=>{this.copyText(r)})}toggleSharer(e,r){e.stopPropagation(),document.body.classList.contains("share-open")?this.closeShare(e,r):this.openShare(e,r)}changeLabelText(e,r="Open Share"){const t=e.querySelector(".sharer-toggle__label");t.innerHTML=r,e.title=t.innerText}openShare(e,r){const t=e.currentTarget||e.target,o=r.style.width;r.style.width="auto";const i=Math.ceil(r.clientWidth)+"px";r.style.width=o,setTimeout(()=>{r.style.width=i},0),document.body.classList.add("share-open"),this.changeLabelText(t,"Close Sharer")}closeShare(e,r){const t=e.currentTarget||e.target;r.style.removeProperty("width"),document.body.classList.remove("share-open"),this.changeLabelText(t,"Open Sharer")}copyText(e){const r=e.dataset.value;navigator.clipboard.writeText(r),e.innerHTML="Link copied to your clipboard!"}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createSharer",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"createSharer"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleSharer",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"toggleSharer"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openShare",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"openShare"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeShare",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"closeShare"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"copyText",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"copyText"),_class.prototype),_class);

},{"decko":33,"live-node-list":36}],19:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_decko=require("decko"),_magicRoundabout=_interopRequireDefault(require("magic-roundabout")),_liveNodeList=require("live-node-list");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"==typeof r?r:String(r)}function _toPrimitive(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function _applyDecoratedDescriptor(e,r,t,i,o){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=t.slice().reverse().reduce(function(t,i){return i(e,r,t)||t},s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,r,s),s=null),s}let VibeGeneratorSlideshow=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"vibeGeneratorSlideshows",new _liveNodeList.LiveNodeList(".vibe-generator-pp__slideshow")),this.registerListeners()}registerListeners(){this.vibeGeneratorSlideshows.forEach(this.createSlideshow),this.vibeGeneratorSlideshows.on("update",(e,r)=>{e.forEach(this.createSlideshow)})}createSlideshow(e){this.slideshow=new _magicRoundabout.default(e,{buttons:!0,click:!1,keys:!1,limit:!0,loop:!0,touch:!1,scroll:!1})}}).prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createSlideshow",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"createSlideshow"),_class.prototype),_class);

},{"decko":33,"live-node-list":36,"magic-roundabout":40}],20:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_liveNodeList=_interopRequireDefault(require("live-node-list")),_decko=require("decko");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _applyDecoratedDescriptor(e,t,r,i,o){var n={};return Object.keys(i).forEach(function(e){n[e]=i[e]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}let Video=exports.default=(_applyDecoratedDescriptor((_class=class{constructor(){_defineProperty(this,"elements",new _liveNodeList.default(".video-pp")),_defineProperty(this,"wrappers",new _liveNodeList.default(".video-pp__wrapper")),_defineProperty(this,"links",new _liveNodeList.default(".video-pp__link")),this.registerListeners()}registerListeners(){this.links.addEventListener("click",this.playVideo)}playVideo(e){e.preventDefault();const t=e.currentTarget||e.target.closest(".video-pp__link");let r="iframe";"file"===t.dataset.videoProvider&&(r="video");let i=t.href;i.match(/.*autoplay.*/)||(i=`${i}?autoplay=1`);const o=document.createElement(r);o.src=i,o.allowfullscreen=!0,o.autoplay=!0,o.muted=!0,o.controls=!0,"iframe"===r?o.addEventListener("load",this.onLoad):"video"===r&&o.addEventListener("play",this.onLoad);const n=t.parentNode.querySelector(".video-pp__placeholder");n&&n.append(o)}onLoad(e){const t=(e.currentTarget||e.target).closest(".video-pp");if(t){t.classList.add("video-pp--playing");const e=t.querySelector(".video-pp__link");e&&setTimeout(()=>{e.remove()},1e3)}else;}}).prototype,"playVideo",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"playVideo"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onLoad",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"onLoad"),_class.prototype),_class);

},{"decko":33,"live-node-list":36}],21:[function(require,module,exports){
"use strict";function isInViewport(t,e={x:0,y:0}){const{top:o,left:n,bottom:i,right:s,width:r,height:l}=t.getBoundingClientRect();return!(0===r&&0===l)&&o<=window.innerHeight+e.y&&i>=0-e.y&&n<=window.innerWidth+e.x&&s>=0-e.x}function ease(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}function animate(t,e,o=500,n,i=ease){const s=e-t;if(!s)return;let r,l;const a=function(c){r||(r=c);var d=c-r,u=i(Math.min(d/o,1));l=t+s*u,d>=o?n(l=e):(n(l),requestAnimationFrame(a))};requestAnimationFrame(a)}function scrollToElement(t,e=500){return animate(window.pageYOffset,t.getBoundingClientRect().top+window.pageYOffset,e,t=>{window.scrollTo(0,t)})}function scrollToPosition(t=0,e=500){return animate(window.pageYOffset,t,e,t=>{window.scrollTo(0,t)})}function slideDown(t){const e=t.style.height;t.style.height="auto";const o=t.clientHeight+"px";t.style.height=e,setTimeout(function(){t.style.height=o},0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.animate=animate,exports.ease=ease,exports.isInViewport=isInViewport,exports.randomInt=void 0,exports.scrollToElement=scrollToElement,exports.scrollToPosition=scrollToPosition,exports.slideDown=slideDown;const randomInt=(t,e)=>Math.floor(Math.random()*(e-t+1)+t);exports.randomInt=randomInt;

},{}],22:[function(require,module,exports){
"use strict";function polyfill(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("regenerator-runtime/runtime");var _default=exports.default=polyfill;

},{"regenerator-runtime/runtime":47}],23:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp,_liveNodeList=require("live-node-list"),_decko=require("decko"),_form=_interopRequireDefault(require("./form")),_errorHandler=_interopRequireDefault(require("./service/error-handler"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _applyDecoratedDescriptor(e,t,r,i,n){var s={};return Object.keys(i).forEach(function(e){s[e]=i[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var FormField=(_applyDecoratedDescriptor((_class=_temp=function(){function e(t,r){_classCallCheck(this,e),_defineProperty(this,"onChangeHandlers",[]),this.form=t,this.element=r,this.parent=null;var i=this.element.parentNode.closest(".form-group[data-name]");if(i){var n=this.form.getFieldName(i);this.parent=this.form.fields[n]}this.inputs=new _liveNodeList.LiveNodeList("input, textarea, select",this.element),this.errorMessage=new _liveNodeList.LiveElement(".message--error",this.element),this.registerListeners(),this.setupDependencies()}return _createClass(e,[{key:"input",get:function(){return 0===this.inputs.items.length?null:this.inputs.items[0]}}]),_createClass(e,[{key:"registerListeners",value:function(){var e=this,t=function(t){e.removeError(),e.onChangeHandlers.forEach(function(r){r(e,t)})};this.inputs.addEventListener("change",t),this.inputs.addEventListener("blur",t),this.element.addEventListener("change",t),this.element.addEventListener("blur",t)}},{key:"setError",value:function(e){_errorHandler.default.setError(this,e)}},{key:"removeError",value:function(){_errorHandler.default.removeError(this)}},{key:"onChange",value:function(e){this.onChangeHandlers.push(e),e(this)}},{key:"setupDependencies",value:function(){if("dependsOn"in this.element.dataset)for(var e in this.dependencies=JSON.parse(this.element.dataset.dependsOn),this.dependencies){this.dependencies[e];var t=this.form.fields[e];if(!t)return;t.onChange(this.checkValues)}}},{key:"checkValues",value:function(){for(var e in this.dependencies){var t=this.dependencies[e],r=this.form.fields[e];if(!this.checkValue(t,r))return void this.hide()}this.show()}},{key:"checkValue",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=t.input;if(!r)return!1;if(["checkbox","radio"].includes(r.type)){if("boolean"==typeof e)return!!(!0===e&&r.checked||!1===e&&!r.checked);if(t.inputs.items.length>0)return!!!!Array.prototype.filter.call(t.inputs.items,function(t){return t.checked&&t.value===e}).shift()}return r.value===e}},{key:"show",value:function(){this.element.setAttribute("aria-hidden","false"),this.element.novalidate=!1}},{key:"hide",value:function(){this.element.setAttribute("aria-hidden","true"),this.element.novalidate=!0,["checkbox","radio"].includes(this.input.type)?this.inputs.forEach(function(e){e.checked=!1}):this.input.value=this.input.dataset.defaultValue||null}}]),e}()).prototype,"checkValues",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"checkValues"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"checkValue",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"checkValue"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"show",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"show"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hide",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"hide"),_class.prototype),_class);exports.default=FormField;

},{"./form":26,"./service/error-handler":30,"decko":33,"live-node-list":36}],24:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _form=_interopRequireDefault(require("./form")),_field=_interopRequireDefault(require("./field"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,r,n,t,o,a,u){try{var i=e[a](u),s=i.value}catch(e){return void n(e)}i.done?r(s):Promise.resolve(s).then(t,o)}function _asyncToGenerator(e){return function(){var r=this,n=arguments;return new Promise(function(t,o){var a=e.apply(r,n);function u(e){asyncGeneratorStep(a,t,o,u,i,"next",e)}function i(e){asyncGeneratorStep(a,t,o,u,i,"throw",e)}u(void 0)})}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}var FormEventHandler=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,e),this.form=r,this.field=n}return _createClass(e,[{key:"process",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(!0));case 1:case"end":return e.stop()}},e)}));return function(r){return e.apply(this,arguments)}}()},{key:"handleAction",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(!0));case 1:case"end":return e.stop()}},e)}));return function(r){return e.apply(this,arguments)}}()}]),e}();exports.default=FormEventHandler;

},{"./field":23,"./form":26}],25:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _liveNodeList=require("live-node-list"),_form=_interopRequireDefault(require("./form"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var FormHandler=function(){function e(){var r=this;_classCallCheck(this,e),_defineProperty(this,"formElements",new _liveNodeList.LiveNodeList("form")),_defineProperty(this,"forms",{}),this.formElements.forEach(function(e){r.forms[e.name]=new _form.default(e)}),this.registerListeners()}return _createClass(e,[{key:"registerListeners",value:function(){var e=this;this.formElements.on("update",function(r,t){t.forEach(function(r){delete e.forms[r.name]}),r.forEach(function(r){e.forms[r.name]=new _form.default(r)})})}}]),e}();exports.default=FormHandler;

},{"./form":26,"live-node-list":36}],26:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_class2,_temp,_liveNodeList=require("live-node-list"),_decko=require("decko"),_kunstmaanAddonsMessagingService=_interopRequireDefault(require("@superrb/kunstmaan-addons-messaging-service")),_field=_interopRequireDefault(require("./field")),_formEventHandler=_interopRequireDefault(require("./form-event-handler")),_turbolinks=_interopRequireDefault(require("turbolinks")),_recaptchaHandler=_interopRequireDefault(require("./handlers/recaptcha-handler")),_errorHandler=_interopRequireDefault(require("./service/error-handler")),_helpers=require("./helpers");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,r,n,i,s,a){try{var o=e[s](a),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,i)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(e){asyncGeneratorStep(s,n,i,a,o,"next",e)}function o(e){asyncGeneratorStep(s,n,i,a,o,"throw",e)}a(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _applyDecoratedDescriptor(e,t,r,n,i){var s={};return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var GENERIC_ERROR="Sorry, something went wrong. Please try what you were doing again.",Form=(_temp=_class2=function(){function e(t){var r=this;_classCallCheck(this,e),_defineProperty(this,"fields",{}),_defineProperty(this,"handlers",{}),this.element=t,this.name=this.element.name,this.fieldNodeList=new _liveNodeList.LiveNodeList(".form-group",this.element),this.fieldNodeList.forEach(this.addField),this.buttons=new _liveNodeList.LiveNodeList('.button[type="submit"], input[type="submit"]',this.element),this.errorMessage=new _liveNodeList.LiveElement(".message--error",this.element),this.constructor.customHandlers.forEach(function(e){e.formName in r.fields&&(r.handlers[e.handlerName]=new e(r,r.fields[e.formName])),e.formName===r.name&&(r.handlers[e.handlerName]=new e(r)),"formNameRegex"in e&&(Object.keys(r.fields).forEach(function(t){t.match(e.formNameRegex)&&(r.handlers[e.handlerName]=new e(r,r.fields[t]))}),r.name.match(e.formNameRegex)&&(r.handlers[e.handlerName]=new e(r)))}),this.registerListeners()}return _createClass(e,[{key:"data",get:function(){return new FormData(this.element)}}]),_createClass(e,[{key:"registerListeners",value:function(){var e=this;this.fieldNodeList.on("update",function(t,r){r.forEach(e.removeField),t.forEach(e.addField)}),this.buttons.on("update",function(t,r){e.enableButtons()}),"jsSubmit"in this.element.dataset&&"true"===this.element.dataset.jsSubmit&&this.element.addEventListener("submit",this.handleSubmit)}},{key:"handleSubmit",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),this.disableButtons(),this.clearErrors(),e.next=5,Promise.all(Object.keys(this.handlers).map(function(e){return i.handlers[e].process(t)})).catch(this.setErrors);case 5:if(e.sent){e.next=9;break}return this.enableButtons(),e.abrupt("return");case 9:return e.next=11,fetch(this.element.action,{method:this.element.method||"POST",mode:"cors",credentials:"include",body:this.data});case 11:return r=e.sent,e.prev=12,e.next=15,r.json();case 15:if(!(n=e.sent).action_required){e.next=24;break}return e.next=19,Promise.all(Object.keys(this.handlers).map(function(e){return i.handlers[e].handleAction(n.action_required)}));case 19:if(!0===e.sent.reduce(function(e,t){return!1!==t&&e},!0)){e.next=24;break}return this.enableButtons(),e.abrupt("return");case 24:if(!n.message){e.next=28;break}return _kunstmaanAddonsMessagingService.default.success(n.message,5e3),e.next=28,setTimeout(function(){},2e3);case 28:if(!n.redirect_url){e.next=31;break}try{_turbolinks.default.visit(n.redirect_url)}catch(e){window.location=n.redirect_url}return e.abrupt("return");case 31:"events"in n&&n.events.forEach(function(e){if("string"==typeof e)return document.dispatchEvent(new CustomEvent(e));document.dispatchEvent(new CustomEvent(e.name,{detail:e.data}))}),this.setErrors(n.errors),this.enableButtons(),e.next=40;break;case 36:e.prev=36,e.t0=e.catch(12),console.error(e.t0),_kunstmaanAddonsMessagingService.default.error(GENERIC_ERROR,5e3);case 40:this.enableButtons();case 41:case"end":return e.stop()}},e,this,[[12,36]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getFieldName",value:function(e){var t=e.name;return e.dataset.name&&(t=e.dataset.name.replace("".concat(this.element.name,"_"),"")),t}},{key:"addField",value:function(e){var t=this.getFieldName(e);t&&(this.fields[t]=new _field.default(this,e))}},{key:"removeField",value:function(e){var t=this.getFieldName(e);t&&delete this.fields[t]}},{key:"setErrors",value:function(e){var t=this;if(e&&"object"===_typeof(e)){Object.keys(e).forEach(function(r){if(r!==t.element.name)if("."!==r){var n=r.replace("".concat(t.element.name,"_"),"");n&&n in t.fields&&t.fields[n].setError(e[r])}else _kunstmaanAddonsMessagingService.default.error(e[r],5e3);else t.setError(e[r])});var r=this.element.querySelector(".form-group--has-error");r&&(0,_helpers.scrollToElement)(r,500)}}},{key:"clearErrors",value:function(){var e=this;this.removeError(),_kunstmaanAddonsMessagingService.default.closeAll(),Object.keys(this.fields).forEach(function(t){return e.fields[t].removeError()})}},{key:"setError",value:function(e){_errorHandler.default.setError(this,e)}},{key:"removeError",value:function(){_errorHandler.default.removeError(this)}},{key:"disableButtons",value:function(){this.buttons.forEach(function(e){e.classList.add("button--loading")})}},{key:"enableButtons",value:function(){this.buttons.forEach(function(e){e.classList.remove("button--loading")})}}]),e}(),_defineProperty(_class2,"customHandlers",[_recaptchaHandler.default]),_applyDecoratedDescriptor((_class=_temp).prototype,"handleSubmit",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleSubmit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getFieldName",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getFieldName"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addField",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"addField"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"removeField",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"removeField"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setErrors",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"setErrors"),_class.prototype),_class);exports.default=Form;

},{"./field":23,"./form-event-handler":24,"./handlers/recaptcha-handler":27,"./helpers":28,"./service/error-handler":30,"@superrb/kunstmaan-addons-messaging-service":31,"decko":33,"live-node-list":36,"turbolinks":51}],27:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_class2,_temp,_liveNodeList=require("live-node-list"),_decko=require("decko"),_recaptchaV=require("recaptcha-v3"),_grecaptcha=require("recaptcha-v3/dist/grecaptcha/grecaptcha"),_formEventHandler=_interopRequireDefault(require("../form-event-handler")),_form=_interopRequireDefault(require("../form")),_field=_interopRequireDefault(require("../field")),_helpers=require("../helpers");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,r,n,o,i,c){try{var a=e[i](c),s=a.value}catch(e){return void r(e)}a.done?t(s):Promise.resolve(s).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function c(e){asyncGeneratorStep(i,n,o,c,a,"next",e)}function a(e){asyncGeneratorStep(i,n,o,c,a,"throw",e)}c(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _applyDecoratedDescriptor(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var RecaptchaHandler=(_temp=_class2=function(e){_inherits(r,_formEventHandler["default"]);var t=_createSuper(r);function r(e,n){var o;return _classCallCheck(this,r),(o=t.call(this,e,n)).setupRecaptcha(),o.constructor.formName in o.form.fields&&o.field&&o.field.input&&(o.field.input.value=null,o.registerListeners()),o}return _createClass(r,[{key:"registerListeners",value:function(){var e=this;document.addEventListener("validation:fail",function(t){e.constructor.formName in e.form.fields&&e.field&&e.field.input&&(e.field.input.value=null)}),this.formObserver=new IntersectionObserver(this.checkFormVisibility,{trackVisibility:!0,delay:500}),this.formObserver.observe(this.form.element)}},{key:"setupRecaptcha",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.constructor.loadStarted||window.recaptcha){e.next=8;break}return this.constructor.loadStarted=!0,e.next=4,(0,_recaptchaV.load)("explicit",{autoHideBadge:!0});case 4:return window.recaptcha=e.sent,e.next=7,window.grecaptcha.render("recaptcha-container",{sitekey:RECAPTCHA_KEY,badge:"inline",size:"invisible"});case 7:this.constructor.recaptchaHandle=e.sent;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"checkFormVisibility",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(e){e.isIntersecting&&(0,_helpers.isVisible)(e.target)?r.constructor.visibleForms.includes(r.form)||r.constructor.visibleForms.push(r.form):r.constructor.visibleForms.includes(r.form)&&r.constructor.visibleForms.splice(r.constructor.visibleForms.indexOf(r.form),1),0===r.constructor.visibleForms.length?r.constructor.recaptchaMessage.item.setAttribute("aria-hidden","true"):r.constructor.recaptchaMessage.item.setAttribute("aria-hidden","false")});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"process",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.field||!this.field.input||this.field.input.value){e.next=2;break}return e.abrupt("return",this.getToken(t));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getToken",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.field.input)){e.next=14;break}return e.prev=2,e.next=5,window.grecaptcha.execute(this.constructor.recaptchaHandle);case 5:n=e.sent,r.value=n,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:return setTimeout(function(e){o.field.input.value=null},2e3),e.abrupt("return",!0);case 14:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}()}]),r}(),_defineProperty(_class2,"handlerName","RecaptchaHandler"),_defineProperty(_class2,"formName","recaptcha"),_defineProperty(_class2,"loadStarted",!1),_defineProperty(_class2,"recaptchaMessage",new _liveNodeList.LiveElement("#recaptcha-message")),_defineProperty(_class2,"visibleForms",[]),_defineProperty(_class2,"recaptchaHandle",null),_applyDecoratedDescriptor((_class=_temp).prototype,"setupRecaptcha",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"setupRecaptcha"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"checkFormVisibility",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"checkFormVisibility"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"process",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"process"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getToken",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getToken"),_class.prototype),_class);exports.default=RecaptchaHandler;

},{"../field":23,"../form":26,"../form-event-handler":24,"../helpers":28,"decko":33,"live-node-list":36,"recaptcha-v3":43,"recaptcha-v3/dist/grecaptcha/grecaptcha":46}],28:[function(require,module,exports){
"use strict";function _getStyle(e,t){return window.getComputedStyle?document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:void 0}function _elementInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.animate=animate,exports.scrollToElement=scrollToElement,exports.scrollToPosition=scrollToPosition,exports.ease=ease,exports.isVisible=void 0;var isVisible=function e(t,o,i,n,l,r,s){var f=t.parentNode;return!!_elementInDocument(t)&&(9===f.nodeType||"0"!==_getStyle(t,"opacity")&&"none"!==_getStyle(t,"display")&&"hidden"!==_getStyle(t,"visibility")&&(void 0!==o&&void 0!==i&&void 0!==n&&void 0!==l&&void 0!==r&&void 0!==s||(o=t.offsetTop,l=t.offsetLeft,n=o+t.offsetHeight,i=l+t.offsetWidth,r=t.offsetWidth,s=t.offsetHeight),!f||("hidden"!==_getStyle(f,"overflow")&&"scroll"!==_getStyle(f,"overflow")||!(l+2>f.offsetWidth+f.scrollLeft||l+r-2<f.scrollLeft||o+2>f.offsetHeight+f.scrollTop||o+s-2<f.scrollTop))&&(t.offsetParent===f&&(l+=f.offsetLeft,o+=f.offsetTop),e(f,o,i,n,l,r,s))))};function animate(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,i=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ease,l=t-e;if(l){var r,s;requestAnimationFrame(function f(d){r||(r=d);var a=d-r,c=n(Math.min(a/o,1));s=e+l*c,a>=o?i(s=t):(i(s),requestAnimationFrame(f))})}}function scrollToElement(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e)return animate(window.pageYOffset,e.getBoundingClientRect().top+window.pageYOffset+o,t,function(e){window.scrollTo(0,e)})}function scrollToPosition(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return animate(window.pageYOffset,e,t,function(e){window.scrollTo(0,e)})}function ease(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}exports.isVisible=isVisible;

},{}],29:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Field",{enumerable:!0,get:function(){return _field.default}}),Object.defineProperty(exports,"Form",{enumerable:!0,get:function(){return _form.default}}),Object.defineProperty(exports,"FormHandler",{enumerable:!0,get:function(){return _formHandler.default}}),Object.defineProperty(exports,"FormEventHandler",{enumerable:!0,get:function(){return _formEventHandler.default}}),exports.default=void 0;var _field=_interopRequireDefault(require("./field")),_form=_interopRequireDefault(require("./form")),_formHandler=_interopRequireDefault(require("./form-handler")),_formEventHandler=_interopRequireDefault(require("./form-event-handler")),_recaptchaHandler=_interopRequireDefault(require("./handlers/recaptcha-handler"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=_formHandler.default;exports.default=_default;

},{"./field":23,"./form":26,"./form-event-handler":24,"./form-handler":25,"./handlers/recaptcha-handler":27}],30:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.errorHandler=void 0;var _form=_interopRequireDefault(require("../form")),_field=_interopRequireDefault(require("../field"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var a=0;a<r.length;a++){var t=r[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,a){return r&&_defineProperties(e.prototype,r),a&&_defineProperties(e,a),e}var ErrorHandler=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"setError",value:function(e,r){if(e instanceof _field.default?e.element.classList.add("form-group--has-error"):e instanceof _form.default&&e.element.classList.add("form--has-error"),e.errorMessage.item)e.errorMessage.item.innerHTML=r;else{var a=document.createElement("span");a.classList.add("message"),a.classList.add("message--error"),a.innerHTML=r,e.element.append(a)}}},{key:"removeError",value:function(e){e instanceof _field.default?e.element.classList.remove("form-group--has-error"):e instanceof _form.default&&e.element.classList.remove("form--has-error"),e.errorMessage.item&&e.errorMessage.item.parentNode&&e.errorMessage.item.parentNode.removeChild(e.errorMessage.item)}}]),e}(),errorHandler=new ErrorHandler;exports.errorHandler=errorHandler;var _default=errorHandler;exports.default=_default;

},{"../field":23,"../form":26}],31:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _liveNodeList=require("live-node-list");function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,s,t){return s&&_defineProperties(e.prototype,s),t&&_defineProperties(e,t),e}function _defineProperty(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}var TYPES=["info","success","error","warning"],TRANSITION_DURATION=500,MessagingService=function(){function e(){var s=this;_classCallCheck(this,e),_defineProperty(this,"container",new _liveNodeList.LiveElement("#messages")),_defineProperty(this,"messages",new _liveNodeList.LiveNodeList(".message")),_defineProperty(this,"closeButtons",new _liveNodeList.LiveNodeList(".message .message__close")),this.registerListeners(),this.messages.forEach(function(e){if(e.dataset.timeout){var t=parseInt(e.dataset.timeout);s.closeAfterTime(e,t)}})}return _createClass(e,[{key:"registerListeners",value:function(){var e=this;this.closeButtons.addEventListener("click",function(s){var t=(s.currentTarget||s.target).closest(".message");e.close(t)})}},{key:"error",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.createMessage("error",e,s)}},{key:"success",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.createMessage("success",e,s)}},{key:"info",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.createMessage("info",e,s)}},{key:"warning",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.createMessage("warning",e,s)}},{key:"closeAll",value:function(){var e=this,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.messages.forEach(function(t){e.close(t,s)})}},{key:"close",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.classList.add("message--closed"),setTimeout(function(s){e.remove()},s?0:TRANSITION_DURATION)}},{key:"closeAfterTime",value:function(e){var s=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t>0&&setTimeout(function(t){s.close(e)},t)}},{key:"createMessage",value:function(e,s){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!TYPES.includes(e))return console.error("".concat(e," is not a valid message type")),void console.error("Type must be one of ".concat(TYPES.join(", ")));var n=document.createElement("div");n.innerHTML='\n      <li class="message message--'.concat(e,'">\n        <span class="message__text">\n          ').concat(s,'\n        </span>\n\n        <button class="message__close">\n          <span class="screenreader-text">Close message</span>\n        </button>\n      </li>\n    ');var i=n.firstElementChild;this.container.item.append(i),this.closeAfterTime(i,t)}}]),e}(),messagingService=new MessagingService,_default=messagingService;exports.default=_default;

},{"live-node-list":36}],32:[function(require,module,exports){
!function(e,t){"use strict";var o=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,o,n){return 1===arguments.length?t.get(e):t.set(e,o,n)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var o=t._cache[t._cacheKeyPrefix+e];return void 0===o?void 0:decodeURIComponent(o)},t.set=function(e,o,n){return(n=t._getExtendedOptions(n)).expires=t._getExpiresDate(void 0===o?-1:n.expires),t._document.cookie=t._generateCookieString(e,o,n),t},t.expire=function(e,o){return t.set(e,void 0,o)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&void 0!==e.secure?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,o){if(o=o||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(o.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,o){var n=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return n+=(o=o||{}).path?";path="+o.path:"",n+=o.domain?";domain="+o.domain:"",n+=o.expires?";expires="+o.expires.toUTCString():"",n+=o.secure?";secure":""},t._getCacheFromString=function(e){for(var o={},n=e?e.split("; "):[],r=0;r<n.length;r++){var i=t._getKeyValuePairFromCookieString(n[r]);void 0===o[t._cacheKeyPrefix+i.key]&&(o[t._cacheKeyPrefix+i.key]=i.value)}return o},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var o,n=e.substr(0,t);try{o=decodeURIComponent(n)}catch(e){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+n+'"',e)}return{key:o,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="1"===t.set("cookies.js",1).get("cookies.js");return t.expire("cookies.js"),e},t.enabled=t._areEnabled(),t},n=e&&"object"==typeof e.document?o(e):o;"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=n),exports.Cookies=n):e.Cookies=n}("undefined"==typeof window?this:window);

},{}],33:[function(require,module,exports){
!function(e,n){if("function"==typeof define&&define.amd)define(["exports"],n);else if("undefined"!=typeof exports)n(exports);else{var t={exports:{}};n(t.exports),e.decko=t.exports}}(this,function(e){"use strict";e.__esModule=!0;var n={},t=Object.prototype.hasOwnProperty,r=function(e,n){if("function"==typeof n){var t=e;e=n,n=t}var r=n&&n.delay||n||0,o=void 0,i=void 0,u=void 0;return function(){for(var n=arguments.length,t=Array(n),f=0;f<n;f++)t[f]=arguments[f];o=t,i=this,u||(u=setTimeout(function(){e.apply(i,o),o=i=u=null},r))}},o=function(e,n,t){var r=t.value;return{configurable:!0,get:function(){var e=r.bind(this);return Object.defineProperty(this,n,{value:e,configurable:!0,writable:!0}),e}}},i=a(function(e){var r=arguments.length<=1||void 0===arguments[1]?n:arguments[1],o=r.cache||{};return function(){for(var n=arguments.length,i=Array(n),u=0;u<n;u++)i[u]=arguments[u];var f=String(i[0]);return!1===r.caseSensitive&&(f=f.toLowerCase()),t.call(o,f)?o[f]:o[f]=e.apply(this,i)}}),u=a(r),f=a(function(e,n){return e.bind(n)},function(){return o});function a(e,n){var t,r=(n=n||e.decorate||(t=e,function(e){return"function"==typeof e?t(e):function(n,r,o){o.value=t(o.value,e,n,r,o)}}))();return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var u=o.length;return(u<2?n:u>2?r:e).apply(void 0,o)}}e.memoize=i,e.debounce=u,e.bind=f,e.default={memoize:i,debounce:u,bind:f}});

},{}],34:[function(require,module,exports){
"use strict";var token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var o=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],decodeComponents(o),decodeComponents(n))}function decode(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(singleMatcher)||[],o=1;o<t.length;o++)t=(e=decodeComponents(t,o).join("")).match(singleMatcher)||[];return e}}function customDecodeURIComponent(e){for(var t={"%FE%FF":"","%FF%FE":""},o=multiMatcher.exec(e);o;){try{t[o[0]]=decodeURIComponent(o[0])}catch(e){var n=decode(o[0]);n!==o[0]&&(t[o[0]]=n)}o=multiMatcher.exec(e)}t["%C2"]="";for(var r=Object.keys(t),c=0;c<r.length;c++){var d=r[c];e=e.replace(new RegExp(d,"g"),t[d])}return e}module.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return customDecodeURIComponent(e)}};

},{}],35:[function(require,module,exports){
"use strict";module.exports=function(r,e){for(var t={},n=Object.keys(r),s=Array.isArray(e),a=0;a<n.length;a++){var i=n[a],o=r[i];(s?-1!==e.indexOf(i):e(i,o,r))&&(t[i]=o)}return t};

},{}],36:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LiveNodeList=exports.LiveElement=void 0;var _liveElement=require("./live-element"),_liveElement2=_interopRequireDefault(_liveElement),_liveNodeList=require("./live-node-list"),_liveNodeList2=_interopRequireDefault(_liveNodeList);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.LiveElement=_liveElement2.default,exports.LiveNodeList=_liveNodeList2.default,exports.default=_liveNodeList2.default;

},{"./live-element":37,"./live-node-list":38}],37:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _desc,_value,_class,_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_decko=require("decko"),_observable=require("./observable"),_observable2=_interopRequireDefault(_observable);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _applyDecoratedDescriptor(e,t,r,n,i){var s={};return Object.keys(n).forEach(function(e){s[e]=n[e]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}var LiveElement=(_applyDecoratedDescriptor((_class=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n));return i.item=null,i.parent&&(i.item=i.parent.querySelector(i.selector)),i.registerDOMObserver(),i}return _inherits(t,_observable2.default),_createClass(t,[{key:"addEventListener",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];e in this.eventListeners||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),this.item&&this.item.addEventListener(e,t),this.events["eventListeners:add"].forEach(function(e){return e()})}},{key:"removeEventListener",value:function(e,t){if(e in this.eventListeners){var r=this.eventListeners[e].indexOf(t);r>-1&&this.eventListeners[e].splice(r,1)}this.item&&this.item.removeEventListener(e,t),this.events["eventListeners:remove"].forEach(function(e){return e()})}},{key:"attachEventListeners",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.item;if(t){if(!(t instanceof Element))throw new TypeError("item must be an instance of Element");Object.keys(this.eventListeners).forEach(function(r){e.eventListeners[r].forEach(function(e){t.addEventListener(r,e)})}),this.events["eventListeners:attach"].forEach(function(e){return e()})}}},{key:"detachEventListeners",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.item;if(t){if(!(t instanceof Element))throw new TypeError("item must be an instance of Element");Object.keys(this.eventListeners).forEach(function(r){e.eventListeners[r].forEach(function(e){t.removeEventListener(r,e)})}),this.events["eventListeners:detach"].forEach(function(e){return e()})}}},{key:"refresh",value:function(){var e=this.item,t=this.parent.querySelector(this.selector);e!==t&&(this.detachEventListeners(e),this.attachEventListeners(t),this.item=t,this.events.update.forEach(function(r){return r(t,e)})),this.item?this.attachDelegatedEventListeners():this.detachDelegatedEventListeners()}}]),t}()).prototype,"addEventListener",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"addEventListener"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"removeEventListener",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"removeEventListener"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"attachEventListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"attachEventListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"detachEventListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"detachEventListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"refresh",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"refresh"),_class.prototype),_class);exports.default=LiveElement;

},{"./observable":39,"decko":33}],38:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _desc,_value,_class,_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_decko=require("decko"),_observable=require("./observable"),_observable2=_interopRequireDefault(_observable);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _applyDecoratedDescriptor(e,t,r,n,s){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var LiveNodeList=(_applyDecoratedDescriptor((_class=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t);var s=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n));return s.items=null,s.parent?s.items=s.parent.querySelectorAll(s.selector):s.items=[],s.registerDOMObserver(),s}return _inherits(t,_observable2.default),_createClass(t,[{key:"forEach",value:function(e,t){return this.items.forEach(e,t)}},{key:"map",value:function(e){return Array.prototype.map.call(this.items,e)}},{key:"addEventListener",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];e in this.eventListeners||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),this.items.forEach(function(r){r.addEventListener(e,t)}),this.events["eventListeners:add"].forEach(function(e){return e()})}},{key:"removeEventListener",value:function(e,t){if(e in this.eventListeners){var r=this.eventListeners[e].indexOf(t);r>-1&&this.eventListeners[e].splice(r,1)}this.items.forEach(function(r){r.removeEventListener(e,t)}),this.events["eventListeners:remove"].forEach(function(e){return e()})}},{key:"attachEventListeners",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items;if(!(Array.isArray(t)||t instanceof NodeList))throw new TypeError("items must be an instance of Array or NodeList");Object.keys(this.eventListeners).forEach(function(r){e.eventListeners[r].forEach(function(e){t.forEach(function(t){t.addEventListener(r,e)})})}),this.events["eventListeners:attach"].forEach(function(e){return e()})}},{key:"detachEventListeners",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items;if(!(Array.isArray(t)||t instanceof NodeList))throw new TypeError("items must be an instance of Array or NodeList");Object.keys(this.eventListeners).forEach(function(r){e.eventListeners[r].forEach(function(e){t.forEach(function(t){t.removeEventListener(r,e)})})}),this.events["eventListeners:detach"].forEach(function(e){return e()})}},{key:"refresh",value:function(){var e=this.items,t=this.parent.querySelectorAll(this.selector),r=this.diffNodeList(t,e),n=this.diffNodeList(e,t);(r.length>0||n.length>0)&&(this.detachEventListeners(n),this.attachEventListeners(r),this.items=t,this.events.update.forEach(function(e){return e(r,n)})),this.items.length>0?this.attachDelegatedEventListeners():this.detachDelegatedEventListeners()}},{key:"diffNodeList",value:function(e,t){return Array.prototype.filter.call(e,function(e){return!Array.prototype.includes.call(t,e)})}},{key:"length",get:function(){return this.items.length}}]),t}()).prototype,"forEach",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"forEach"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"map",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"map"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addEventListener",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"addEventListener"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"removeEventListener",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"removeEventListener"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"attachEventListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"attachEventListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"detachEventListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"detachEventListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"refresh",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"refresh"),_class.prototype),_class);exports.default=LiveNodeList;

},{"./observable":39,"decko":33}],39:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _desc,_value,_class,_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_liveElement=require("./live-element"),_decko=require("decko");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(e,t,r,n,s){var o={};return Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},o),s&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(s):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Observable=(_applyDecoratedDescriptor((_class=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.eventListeners={},this.observerConfig={attributes:!1,characterData:!1,childList:!0,subtree:!0},this.selector="",this.parent=document.documentElement,this.events={update:[],start:[],pause:[],resume:[],"eventListeners:add":[],"eventListeners:remove":[],"eventListeners:attach":[],"eventListeners:detach":[],"eventListeners:purge":[],"delegatedEventListeners:add":[],"delegatedEventListeners:remove":[],"delegatedEventListeners:attach":[],"delegatedEventListeners:detach":[],"delegatedEventListeners:purge":[]},this.delegatedEvents={},this.selector=t,this.observerConfig=_extends({},this.observerConfig,s),n instanceof this.constructor?(this.parent=n.item,n.on("update",function(e,t){r.pause(),r.parent=e,r.resume(),r.refresh()})):this.parent=n}return _createClass(e,[{key:"on",value:function(e,t){if("function"!=typeof t)throw new TypeError("callback must be a function");return this.events[e].push(t),this}},{key:"off",value:function(e,t){if("function"!=typeof t)throw new TypeError("callback must be a function");if(e in this.events){var r=this.events[e].indexOf(t);r>-1&&this.events[e].splice(r,1)}return this}},{key:"purgeEventListeners",value:function(){this.detachEventListeners(),this.eventListeners={},this.events["eventListeners:purge"].forEach(function(e){return e()})}},{key:"addDelegatedEventListener",value:function(e,t,r,n){if("function"!=typeof r)throw new TypeError("callback must be a function");if(!(e instanceof Element||e instanceof Window||e instanceof HTMLDocument))throw new TypeError("target must be window, document or an element");t in this.delegatedEvents||(this.delegatedEvents[t]=[]),this.delegatedEvents[t].push({target:e,callback:r,options:n}),("items"in this&&this.items.length>0||"item"in this&&this.item)&&e.addEventListener(t,r,n),this.events["delegatedEventListeners:add"].forEach(function(e){return e()})}},{key:"removeDelegatedEventListener",value:function(e,t,r){if("function"!=typeof r)throw new TypeError("callback must be a function");if(!(e instanceof Element||e instanceof Window||e instanceof HTMLDocument))throw new TypeError("target must be window, document or an element");this.delegatedEvents[t]=this.delegatedEvents[t].filter(function(t){return!(t.target===e&&t.callback===r)}),e.removeEventListener(t,r),this.events["delegatedEventListeners:remove"].forEach(function(e){return e()})}},{key:"attachDelegatedEventListeners",value:function(){var e=this;Object.keys(this.delegatedEvents).forEach(function(t){e.delegatedEvents[t].forEach(function(e){e.target.addEventListener(t,e.callback,e.options)})}),this.events["delegatedEventListeners:attach"].forEach(function(e){return e()})}},{key:"detachDelegatedEventListeners",value:function(){var e=this;Object.keys(this.delegatedEvents).forEach(function(t){e.delegatedEvents[t].forEach(function(e){e.target.removeEventListener(t,e.callback)})}),this.events["delegatedEventListeners:detach"].forEach(function(e){return e()})}},{key:"purgeDelegatedEventListeners",value:function(){this.detachDelegatedEventListeners(),this.delegatedEventListeners={},this.events["delegatedEventListeners:purge"].forEach(function(e){return e()})}},{key:"registerDOMObserver",value:function(){this.observer=new MutationObserver(this.refresh),this.resume(),this.events.start.forEach(function(e){return e()})}},{key:"pause",value:function(){this.observer.disconnect(),this.events.pause.forEach(function(e){return e()})}},{key:"resume",value:function(){this.parent&&this.observer.observe(this.parent,this.observerConfig),this.events.resume.forEach(function(e){return e()})}}]),e}()).prototype,"on",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"on"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"off",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"off"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"purgeEventListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"purgeEventListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addDelegatedEventListener",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"addDelegatedEventListener"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"removeDelegatedEventListener",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"removeDelegatedEventListener"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"attachDelegatedEventListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"attachDelegatedEventListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"detachDelegatedEventListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"detachDelegatedEventListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"purgeDelegatedEventListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"purgeDelegatedEventListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"registerDOMObserver",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerDOMObserver"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"pause",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"pause"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"resume",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"resume"),_class.prototype),_class);exports.default=Observable;

},{"./live-element":37,"decko":33}],40:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _desc,_value,_class,_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},_createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),_decko=require("decko"),_lethargy=require("./lethargy"),_lethargy2=_interopRequireDefault(_lethargy);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(t,e,s,i,r){var n={};return Object.keys(i).forEach(function(t){n[t]=i[t]}),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce(function(s,i){return i(t,e,s)||s},n),r&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(r):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(t,e,n),n=null),n}var MagicRoundabout=(_applyDecoratedDescriptor((_class=function(){function t(e,s){if(_classCallCheck(this,t),this.opts={auto:!1,buttons:!0,center:!1,click:!0,delay:1e4,draggable:!1,duplicateSlidesWhenLooping:!1,duplicateSlidesCount:1,keys:!0,limit:!1,loop:!0,onChange:function(){},touch:!0,scroll:!0,slidesPerView:1,vertical:!1},this._current=0,this.width=null,this.touch=null,"string"==typeof e){if(this.container=document.querySelector(e),!this.container)throw new TypeError("selector matched no elements")}else{if(!(e instanceof HTMLElement))throw new TypeError('target must be an instance of "HTMLElement" or a valid selector');this.container=e}this.opts=_extends({},this.opts,s),this.wrapper=this.container.querySelector(".slideshow__slides"),this.wrapper.querySelectorAll(".slideshow__slide--duplicate").forEach(function(t){t.parentNode.removeChild(t)}),this.slides=Array.from(this.container.querySelectorAll(".slideshow__slide"));var i=1;if(this.slides.forEach(function(t){t.dataset.index=i++}),this.opts.loop&&this.opts.duplicateSlidesWhenLooping){this.duplicatesAppend=this.slides.slice(0,this.opts.duplicateSlidesCount).map(function(t){return t.cloneNode(!0)});for(var r=0;r<this.duplicatesAppend.length;r++){var n=this.duplicatesAppend[r];n.classList.add("slideshow__slide--duplicate"),n.dataset.index=parseInt(n.dataset.index)+this.slides.length,this.wrapper.appendChild(n)}this.duplicatesPrepend=this.slides.slice(0-this.opts.duplicateSlidesCount).map(function(t){return t.cloneNode(!0)});for(var o=this.duplicatesPrepend.length-1;o>=0;o--){var a=this.duplicatesPrepend[o];a.classList.add("slideshow__slide--duplicate"),a.dataset.index=parseInt(a.dataset.index)-this.slides.length,this.wrapper.insertBefore(a,this.wrapper.childNodes[0])}}this.opts.buttons&&(this.buttons={},this.buttons.next=this.container.querySelector(".slideshow__button--next"),this.buttons.prev=this.container.querySelector(".slideshow__button--prev")),this.setContainerSize(),this.registerListeners(),this.current=1}return _createClass(t,[{key:"applyClasses",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments[1];0!==e.length&&requestAnimationFrame(function(i){var r=t.opts.slidesPerView,n=[];s>=0&&e.slice(s,s+r).forEach(function(t){t.classList.remove("slideshow__slide--next"),t.classList.remove("slideshow__slide--prev"),t.classList.add("slideshow__slide--active"),n.push(t)}),s>=r&&e.slice(s-r,s).forEach(function(t){t.classList.remove("slideshow__slide--next"),t.classList.remove("slideshow__slide--active"),t.classList.add("slideshow__slide--prev"),n.push(t)}),s+r>=0&&e.slice(s+r,s+r+r).forEach(function(t){t.classList.remove("slideshow__slide--active"),t.classList.remove("slideshow__slide--prev"),t.classList.add("slideshow__slide--next"),n.push(t)}),t.clearState(e.filter(function(t){return-1===n.indexOf(t)}))})}},{key:"changeInstantly",value:function(t){var e=this;this.transitioning=!0;var s=getComputedStyle(this.wrapper).transitionDelay,i=1e3*parseFloat(s),r=getComputedStyle(this.wrapper).transitionDuration,n=1e3*parseFloat(r);setTimeout(function(){e.wrapper.style.transitionDelay="0s",e.wrapper.style.transitionDuration="0s",e.current=t,e.transitioning=!1,setTimeout(function(){e.wrapper.style.transitionDelay="",e.wrapper.style.transitionDuration=""},50)},i+n)}},{key:"clearState",value:function(t){requestAnimationFrame(function(e){t.forEach(function(t){t.classList.remove("slideshow__slide--active"),t.classList.remove("slideshow__slide--next"),t.classList.remove("slideshow__slide--prev")})})}},{key:"registerListeners",value:function(){var t=this;if(window.addEventListener("resize",this.setContainerSize),this.opts.scroll&&this.container.addEventListener("wheel",this.handleScroll),(this.opts.touch||this.opts.draggable)&&(this.container.addEventListener("touchstart",this.handleTouchStart),this.container.addEventListener("touchmove",this.handleTouchMove),this.container.addEventListener("mousedown",this.handleMouseDown),this.container.addEventListener("mousemove",this.handleMouseMove),this.container.addEventListener("mouseup",this.handleMouseUp),this.container.addEventListener("mouseleave",this.handleMouseUp)),this.opts.keys&&document.addEventListener("keyup",this.handleKeypress),this.opts.click){var e=function(e){e.addEventListener("click",function(s){t.dragging||(t.current=e.dataset.index)})};this.slides.forEach(e),this.opts.loop&&this.opts.duplicateSlidesWhenLooping&&(this.duplicatesAppend.forEach(e),this.duplicatesPrepend.forEach(e))}this.opts.buttons&&(this.buttons.next.addEventListener("click",function(e){t.current=t.current+t.opts.slidesPerView}),this.buttons.prev.addEventListener("click",function(e){t.current=t.current-t.opts.slidesPerView}))}},{key:"setContainerSize",value:function(){this.width=this.container.clientWidth,this.transition()}},{key:"handleScroll",value:function(t){return this.opts.vertical&&Math.abs(t.deltaY)>Math.abs(t.deltaX)?this.handleDeltaChange(t,t.deltaY,!0):!this.opts.vertical&&Math.abs(t.deltaX)>Math.abs(t.deltaY)?this.handleDeltaChange(t,t.deltaX,!0):void 0}},{key:"handleTouchStart",value:function(t){this.touch={x:t.touches[0].clientX,y:t.touches[0].clientY}}},{key:"handleMouseDown",value:function(t){return t.touches=[{clientX:t.clientX,clientY:t.clientY}],this.handleTouchStart(t)}},{key:"handleTouchMove",value:function(t){var e,s=this;if((clearTimeout(this.touchEndHandler),this.touch)&&!(t.touches.length>1))if(this.opts.draggable){if(!this.transitioning){var i=t.touches[0].clientX,r=t.touches[0].clientY,n=this.touch.x-i,o=this.touch.y-r,a=void 0;this.opts.vertical&&Math.abs(o)>Math.abs(n)&&(a=o),!this.opts.vertical&&Math.abs(n)>Math.abs(o)&&(a=n),Math.abs(a)>25&&(this.dragging=!0),this.offsetTransition(a);var l=(e=s.currentSlide,a<0&&(e=s.previousSlide),e?s.opts.vertical?s.getOuterHeight(e):s.getOuterWidth(e):0);Math.abs(a)>l&&(a>0&&(this._current=this._current+1),a<0&&(this._current=this._current-1),this.touch.x=i,this.touch.y=r)}}else this.touchEndHandler=setTimeout(this.handleTouchEnd.bind(this,t),50)}},{key:"handleMouseMove",value:function(t){return t.touches=[{clientX:t.clientX,clientY:t.clientY}],this.handleTouchMove(t)}},{key:"handleTouchEnd",value:function(t){if(this.touch&&!(t.touches.length>1)){var e=t.touches[0].clientX,s=t.touches[0].clientY,i=this.touch.x-e,r=this.touch.y-s;return this.touch=null,this.wrapper.style.transitionDelay=null,this.wrapper.style.transitionDuration=null,this.opts.vertical&&Math.abs(r)>Math.abs(i)?this.handleDeltaChange(t,r,!1):!this.opts.vertical&&Math.abs(i)>Math.abs(r)?this.handleDeltaChange(t,i,!1):void 0}}},{key:"handleMouseUp",value:function(t){return t.touches=[{clientX:t.clientX,clientY:t.clientY}],this.handleTouchEnd(t)}},{key:"handleDeltaChange",value:function(t,e){var s=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1===(new _lethargy2.default).check(t,this.opts.vertical)||this.transitioning)return t.stopPropagation(),t.preventDefault(),t.cancelBubble=!0,!1;var r,n=this.current;if(this.transitioning=!0,t.stopPropagation(),t.preventDefault(),t.cancelBubble=!0,this.opts.draggable){var o=(r=s.currentSlide,e<0&&(r=s.previousSlide),r?s.opts.vertical?s.getInnerHeight(r)/2:s.getInnerWidth(r)/2:0);Math.abs(e)>o?(e>0&&(this.current=n+this.opts.slidesPerView),e<0&&(this.current=n-this.opts.slidesPerView)):this.current=this.current}else e>0&&(this.current=n+this.opts.slidesPerView),e<0&&(this.current=n-this.opts.slidesPerView);if(i){var a=getComputedStyle(this.wrapper).transitionDelay,l=1e3*parseFloat(a),c=getComputedStyle(this.wrapper).transitionDuration,h=1e3*parseFloat(c);return setTimeout(function(t){s.transitioning=!1},l+h),!1}return setTimeout(function(){s.dragging=!1},50),this.transitioning=!1,!1}},{key:"handleKeypress",value:function(t){if(this.isInViewport()){var e=37,s=38,i=39,r=40,n=t.keyCode||t.which;if(this.opts.vertical)return n===s&&(this.current=this.current-this.opts.slidesPerView),void(n===r&&(this.current=this.current+this.opts.slidesPerView));n===e&&(this.current=this.current-this.opts.slidesPerView),n===i&&(this.current=this.current+this.opts.slidesPerView)}}},{key:"getTransitionOffset",value:function(){var t=this.opts.vertical?this.getOuterHeight:this.getOuterWidth,e=this.opts.vertical?this.getInnerHeight:this.getInnerWidth,s=0;this.opts.loop&&this.opts.duplicateSlidesWhenLooping&&this.duplicatesPrepend.slice(0,this.duplicatesPrepend.length+Math.min(this._current,0)).forEach(function(e){s+=t(e)});for(var i=0;i<Math.min(this._current,this.slides.length);i++)s+=t(this.slides[i]);for(var r=0;r<this._current-this.slides.length;r++)s+=t(this.duplicatesPrepend[r]);if(this.opts.center&&!this.opts.limit&&(s=s+t(this.container)/2-e(this.slides[this._current])/2),this.opts.limit&&!this.opts.loop){for(var n=0,o=0;o<this.slides.length;o++)n+=t(this.slides[o]);s=Math.min(s,n-this.container.clientWidth),this.opts.buttons&&(s>=n-this.container.clientWidth?this.buttons.next.classList.add("slideshow__button--disabled"):this.buttons.next.classList.remove("slideshow__button--disabled"))}return-1*s}},{key:"transition",value:function(){var t=this.opts.vertical?"translateY":"translateX";this.wrapper.style.transform=t+"("+this.getTransitionOffset()+"px)"}},{key:"offsetTransition",value:function(t){var e=this.opts.vertical?"translateY":"translateX";this.wrapper.style.transitionDelay="0s",this.wrapper.style.transitionDuration="0s",this.wrapper.style.transform=e+"("+(this.getTransitionOffset()-t)+"px)"}},{key:"getOuterWidth",value:function(t){var e=window.getComputedStyle(t);return this.getInnerWidth(t)+parseFloat(e.marginLeft)+parseFloat(e.marginRight)}},{key:"getOuterHeight",value:function(t){var e=window.getComputedStyle(t);return this.getInnerHeight(t)+parseFloat(e.marginTop)+parseFloat(e.marginBottom)}},{key:"getInnerWidth",value:function(t){return parseFloat(t.getBoundingClientRect().width)}},{key:"getInnerHeight",value:function(t){return parseFloat(t.getBoundingClientRect().height)}},{key:"isInViewport",value:function(){var t=this.container.getBoundingClientRect(),e=t.top,s=t.left,i=t.bottom,r=t.right;return e<=window.innerHeight&&i>=0&&s<=window.innerWidth&&r>=0}},{key:"current",get:function(){return this._current+1},set:function(t){var e=this,s=void 0;clearTimeout(this.auto),t=parseInt(t),(t-=(t-1)%this.opts.slidesPerView)<1&&(this.opts.loop?this.opts.duplicateSlidesWhenLooping?this.changeInstantly(Math.min(t+this.slides.length,this.slides.length+this.duplicatesAppend.length)):t=this.slides.length-this.opts.slidesPerView+1:t=1),t>this.slides.length-t%this.opts.slidesPerView&&(this.opts.loop?this.opts.duplicateSlidesWhenLooping?this.changeInstantly(Math.max(t-this.slides.length,1-this.duplicatesPrepend.length)):t=1:t=this.slides.length-t%this.opts.slidesPerView),this.opts.buttons&&!this.opts.loop&&(s=1===t?"add":"remove",this.buttons.prev.classList[s]("slideshow__button--disabled"),s=t===this.slides.length?"add":"remove",this.buttons.next.classList[s]("slideshow__button--disabled")),this._current=t-1,this.transition(),this.opts.onChange(this),this.applyClasses(this.slides,this._current),this.opts.loop&&this.opts.duplicateSlidesWhenLooping&&(this.applyClasses(this.duplicatesAppend,this._current-this.slides.length),this.applyClasses(this.duplicatesPrepend,this.duplicatesPrepend.length-(this.slides.length-(this._current+this.slides.length)))),this.opts.auto&&(this.auto=setTimeout(function(){e.current=e.current+e.opts.slidesPerView},this.opts.delay))}},{key:"currentSlide",get:function(){if(this.opts.loop&&this.opts.duplicateSlidesWhenLooping){if(this._current>=this.slides.length)return this.duplicatesAppend[this._current-this.slides.length];if(this._current<0)return this.duplicatesPrepend[this.duplicatesPrepend.length-(this.slides.length-(this._current+this.slides.length))]}return this.slides[this._current]}},{key:"previousSlide",get:function(){if(this.opts.loop&&this.opts.duplicateSlidesWhenLooping){if(this._current-1>=this.slides.length)return this.duplicatesAppend[this._current-this.slides.length-1];if(this._current-1<0)return this.duplicatesPrepend[this.duplicatesPrepend.length-(this.slides.length-(this._current+this.slides.length))-1]}return this.slides[this._current-1]}},{key:"nextSlide",get:function(){if(this.opts.loop&&this.opts.duplicateSlidesWhenLooping){if(this._current+1>=this.slides.length)return this.duplicatesAppend[this._current-this.slides.length+1];if(this._current+1<0)return this.duplicatesPrepend[this.duplicatesPrepend.length-(this.slides.length-(this._current+this.slides.length))+1]}return this.slides[this._current+1]}}]),t}()).prototype,"applyClasses",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"applyClasses"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"changeInstantly",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"changeInstantly"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"clearState",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"clearState"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"registerListeners",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"registerListeners"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setContainerSize",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"setContainerSize"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleScroll",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleScroll"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleTouchStart",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleTouchStart"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleMouseDown",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleMouseDown"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleTouchMove",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleTouchMove"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleMouseMove",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleMouseMove"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleTouchEnd",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleTouchEnd"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleMouseUp",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleMouseUp"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleDeltaChange",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleDeltaChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleKeypress",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"handleKeypress"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getTransitionOffset",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getTransitionOffset"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"transition",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"transition"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"offsetTransition",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"offsetTransition"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getOuterWidth",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getOuterWidth"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getOuterHeight",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getOuterHeight"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getInnerWidth",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getInnerWidth"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getInnerHeight",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"getInnerHeight"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isInViewport",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"isInViewport"),_class.prototype),_class);exports.default=MagicRoundabout;

},{"./lethargy":41,"decko":33}],41:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _desc,_value,_class,_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),_decko=require("decko");function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _applyDecoratedDescriptor(t,e,i,a,l){var s={};return Object.keys(a).forEach(function(t){s[t]=a[t]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=i.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},s),l&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(l):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}var Lethargy=(_applyDecoratedDescriptor((_class=function(){function t(e,i,a,l){_classCallCheck(this,t),this.stability=null!=e?Math.abs(e):8,this.sensitivity=null!=i?1+Math.abs(i):120,this.tolerance=null!=a?1+Math.abs(a):1.05,this.delay=null!=l?l:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;e>=1?t<=e:t>=e;e>=1?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;e>=1?t<=e:t>=e;e>=1?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;e>=1?t<=e:t>=e;e>=1?t++:t--)i.push(null);return i}.call(this)}return _createClass(t,[{key:"check",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:i&&null!=t.deltaY?e=-40*t.deltaY:i||null==t.deltaX?null==t.detail&&0!==t.detail||(e=-40*t.detail):e=-40*t.deltaX,this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))}},{key:"isInertia",value:function(t){var e,i,a,l,s,n,r;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(a=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),r=a.reduce(function(t,e){return t+e}),s=i.reduce(function(t,e){return t+e}),n=r/a.length,l=s/i.length,Math.abs(n)<Math.abs(l*this.tolerance)&&this.sensitivity<Math.abs(l)&&t)}},{key:"showLastUpDeltas",value:function(){return this.lastUpDeltas}},{key:"showLastDownDeltas",value:function(){return this.lastDownDeltas}}]),t}()).prototype,"check",[_decko.bind],Object.getOwnPropertyDescriptor(_class.prototype,"check"),_class.prototype),_class);exports.default=Lethargy;

},{"decko":33}],42:[function(require,module,exports){
"use strict";const strictUriEncode=require("strict-uri-encode"),decodeComponent=require("decode-uri-component"),splitOnFirst=require("split-on-first"),filterObject=require("filter-obj"),isNullOrUndefined=e=>null==e;function encoderForArrayFormat(e){switch(e.arrayFormat){case"index":return r=>(t,o)=>{const n=t.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?t:null===o?[...t,[encode(r,e),"[",n,"]"].join("")]:[...t,[encode(r,e),"[",encode(n,e),"]=",encode(o,e)].join("")]};case"bracket":return r=>(t,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?t:null===o?[...t,[encode(r,e),"[]"].join("")]:[...t,[encode(r,e),"[]=",encode(o,e)].join("")];case"comma":case"separator":return r=>(t,o)=>null==o||0===o.length?t:0===t.length?[[encode(r,e),"=",encode(o,e)].join("")]:[[t,encode(o,e)].join(e.arrayFormatSeparator)];default:return r=>(t,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?t:null===o?[...t,encode(r,e)]:[...t,[encode(r,e),"=",encode(o,e)].join("")]}}function parserForArrayFormat(e){let r;switch(e.arrayFormat){case"index":return(e,t,o)=>{r=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),r?(void 0===o[e]&&(o[e]={}),o[e][r[1]]=t):o[e]=t};case"bracket":return(e,t,o)=>{r=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),r?void 0!==o[e]?o[e]=[].concat(o[e],t):o[e]=[t]:o[e]=t};case"comma":case"separator":return(r,t,o)=>{const n="string"==typeof t&&t.includes(e.arrayFormatSeparator),a="string"==typeof t&&!n&&decode(t,e).includes(e.arrayFormatSeparator);t=a?decode(t,e):t;const s=n||a?t.split(e.arrayFormatSeparator).map(r=>decode(r,e)):null===t?t:decode(t,e);o[r]=s};default:return(e,r,t)=>{void 0!==t[e]?t[e]=[].concat(t[e],r):t[e]=r}}}function validateArrayFormatSeparator(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function encode(e,r){return r.encode?r.strict?strictUriEncode(e):encodeURIComponent(e):e}function decode(e,r){return r.decode?decodeComponent(e):e}function keysSorter(e){return Array.isArray(e)?e.sort():"object"==typeof e?keysSorter(Object.keys(e)).sort((e,r)=>Number(e)-Number(r)).map(r=>e[r]):e}function removeHash(e){const r=e.indexOf("#");return-1!==r&&(e=e.slice(0,r)),e}function getHash(e){let r="";const t=e.indexOf("#");return-1!==t&&(r=e.slice(t)),r}function extract(e){const r=(e=removeHash(e)).indexOf("?");return-1===r?"":e.slice(r+1)}function parseValue(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!r.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function parse(e,r){validateArrayFormatSeparator((r=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},r)).arrayFormatSeparator);const t=parserForArrayFormat(r),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const n of e.split("&")){if(""===n)continue;let[e,a]=splitOnFirst(r.decode?n.replace(/\+/g," "):n,"=");a=void 0===a?null:["comma","separator"].includes(r.arrayFormat)?a:decode(a,r),t(decode(e,r),a,o)}for(const e of Object.keys(o)){const t=o[e];if("object"==typeof t&&null!==t)for(const e of Object.keys(t))t[e]=parseValue(t[e],r);else o[e]=parseValue(t,r)}return!1===r.sort?o:(!0===r.sort?Object.keys(o).sort():Object.keys(o).sort(r.sort)).reduce((e,r)=>{const t=o[r];return Boolean(t)&&"object"==typeof t&&!Array.isArray(t)?e[r]=keysSorter(t):e[r]=t,e},Object.create(null))}exports.extract=extract,exports.parse=parse,exports.stringify=((e,r)=>{if(!e)return"";validateArrayFormatSeparator((r=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},r)).arrayFormatSeparator);const t=t=>r.skipNull&&isNullOrUndefined(e[t])||r.skipEmptyString&&""===e[t],o=encoderForArrayFormat(r),n={};for(const r of Object.keys(e))t(r)||(n[r]=e[r]);const a=Object.keys(n);return!1!==r.sort&&a.sort(r.sort),a.map(t=>{const n=e[t];return void 0===n?"":null===n?encode(t,r):Array.isArray(n)?n.reduce(o(t),[]).join("&"):encode(t,r)+"="+encode(n,r)}).filter(e=>e.length>0).join("&")}),exports.parseUrl=((e,r)=>{r=Object.assign({decode:!0},r);const[t,o]=splitOnFirst(e,"#");return Object.assign({url:t.split("?")[0]||"",query:parse(extract(e),r)},r&&r.parseFragmentIdentifier&&o?{fragmentIdentifier:decode(o,r)}:{})}),exports.stringifyUrl=((e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const t=removeHash(e.url).split("?")[0]||"",o=exports.extract(e.url),n=exports.parse(o,{sort:!1}),a=Object.assign(n,e.query);let s=exports.stringify(a,r);s&&(s=`?${s}`);let c=getHash(e.url);return e.fragmentIdentifier&&(c=`#${encode(e.fragmentIdentifier,r)}`),`${t}${s}${c}`}),exports.pick=((e,r,t)=>{t=Object.assign({parseFragmentIdentifier:!0},t);const{url:o,query:n,fragmentIdentifier:a}=exports.parseUrl(e,t);return exports.stringifyUrl({url:o,query:filterObject(n,r),fragmentIdentifier:a},t)}),exports.exclude=((e,r,t)=>{const o=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return exports.pick(e,o,t)});

},{"decode-uri-component":34,"filter-obj":35,"split-on-first":49,"strict-uri-encode":50}],43:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReCaptchaInstance=exports.getInstance=exports.load=void 0;var ReCaptchaLoader_1=require("./ReCaptchaLoader");Object.defineProperty(exports,"load",{enumerable:!0,get:function(){return ReCaptchaLoader_1.load}}),Object.defineProperty(exports,"getInstance",{enumerable:!0,get:function(){return ReCaptchaLoader_1.getInstance}});var ReCaptchaInstance_1=require("./ReCaptchaInstance");Object.defineProperty(exports,"ReCaptchaInstance",{enumerable:!0,get:function(){return ReCaptchaInstance_1.ReCaptchaInstance}});

},{"./ReCaptchaInstance":44,"./ReCaptchaLoader":45}],44:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{s(r.next(t))}catch(t){a(t)}}function c(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,c)}s((r=r.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReCaptchaInstance=void 0;var ReCaptchaInstance=function(){function t(t,e,n){this.siteKey=t,this.recaptchaID=e,this.recaptcha=n,this.styleContainer=null}return t.prototype.execute=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.recaptcha.enterprise?this.recaptcha.enterprise.execute(this.recaptchaID,{action:t}):this.recaptcha.execute(this.recaptchaID,{action:t})]})})},t.prototype.getSiteKey=function(){return this.siteKey},t.prototype.hideBadge=function(){null===this.styleContainer&&(this.styleContainer=document.createElement("style"),this.styleContainer.innerHTML=".grecaptcha-badge{visibility:hidden !important;}",document.head.appendChild(this.styleContainer))},t.prototype.showBadge=function(){null!==this.styleContainer&&(document.head.removeChild(this.styleContainer),this.styleContainer=null)},t}();exports.ReCaptchaInstance=ReCaptchaInstance;

},{}],45:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInstance=exports.load=void 0;var ELoadingState,ReCaptchaInstance_1=require("./ReCaptchaInstance");!function(e){e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}(ELoadingState||(ELoadingState={}));var ReCaptchaLoader=function(){function e(){}return e.load=function(t,n){if(void 0===n&&(n={}),"undefined"==typeof document)return Promise.reject(new Error("This is a library for the browser!"));if(e.getLoadingState()===ELoadingState.LOADED)return e.instance.getSiteKey()===t?Promise.resolve(e.instance):Promise.reject(new Error("reCAPTCHA already loaded with different site key!"));if(e.getLoadingState()===ELoadingState.LOADING)return t!==e.instanceSiteKey?Promise.reject(new Error("reCAPTCHA already loaded with different site key!")):new Promise(function(t,n){e.successfulLoadingConsumers.push(function(e){return t(e)}),e.errorLoadingRunnable.push(function(e){return n(e)})});e.instanceSiteKey=t,e.setLoadingState(ELoadingState.LOADING);var r=new e;return new Promise(function(a,i){r.loadScript(t,n.useRecaptchaNet||!1,n.useEnterprise||!1,n.renderParameters?n.renderParameters:{},n.customUrl).then(function(){e.setLoadingState(ELoadingState.LOADED);var i=r.doExplicitRender(grecaptcha,t,n.explicitRenderParameters?n.explicitRenderParameters:{},n.useEnterprise||!1),o=new ReCaptchaInstance_1.ReCaptchaInstance(t,i,grecaptcha);e.successfulLoadingConsumers.forEach(function(e){return e(o)}),e.successfulLoadingConsumers=[],n.autoHideBadge&&o.hideBadge(),e.instance=o,a(o)}).catch(function(t){e.errorLoadingRunnable.forEach(function(e){return e(t)}),e.errorLoadingRunnable=[],i(t)})})},e.getInstance=function(){return e.instance},e.setLoadingState=function(t){e.loadingState=t},e.getLoadingState=function(){return null===e.loadingState?ELoadingState.NOT_LOADED:e.loadingState},e.prototype.loadScript=function(t,n,r,a,i){var o=this;void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===a&&(a={}),void 0===i&&(i="");var c=document.createElement("script");c.setAttribute("recaptcha-v3-script","");var s="https://www.google.com/recaptcha/api.js";n&&(s=r?"https://recaptcha.net/recaptcha/enterprise.js":"https://recaptcha.net/recaptcha/api.js"),r&&(s="https://www.google.com/recaptcha/enterprise.js"),i&&(s=i),a.render&&(a.render=void 0);var d=this.buildQueryString(a);return c.src=s+"?render=explicit"+d,new Promise(function(t,n){c.addEventListener("load",o.waitForScriptToLoad(function(){t(c)},r),!1),c.onerror=function(t){e.setLoadingState(ELoadingState.NOT_LOADED),n(t)},document.head.appendChild(c)})},e.prototype.buildQueryString=function(e){return Object.keys(e).length<1?"":"&"+Object.keys(e).filter(function(t){return!!e[t]}).map(function(t){return t+"="+e[t]}).join("&")},e.prototype.waitForScriptToLoad=function(t,n){var r=this;return function(){void 0===window.grecaptcha?setTimeout(function(){r.waitForScriptToLoad(t,n)},e.SCRIPT_LOAD_DELAY):n?window.grecaptcha.enterprise.ready(function(){t()}):window.grecaptcha.ready(function(){t()})}},e.prototype.doExplicitRender=function(e,t,n,r){var a={sitekey:t,badge:n.badge,size:n.size,tabindex:n.tabindex};return n.container?r?e.enterprise.render(n.container,a):e.render(n.container,a):r?e.enterprise.render(a):e.render(a)},e.loadingState=null,e.instance=null,e.instanceSiteKey=null,e.successfulLoadingConsumers=[],e.errorLoadingRunnable=[],e.SCRIPT_LOAD_DELAY=25,e}();exports.load=ReCaptchaLoader.load,exports.getInstance=ReCaptchaLoader.getInstance;

},{"./ReCaptchaInstance":44}],46:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],47:[function(require,module,exports){
!function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof module,h=t.regeneratorRuntime;if(h)u&&(module.exports=h);else{(h=t.regeneratorRuntime=u?module.exports:{}).wrap=w;var s="suspendedStart",f="suspendedYield",l="executing",p="completed",y={},v={};v[i]=function(){return this};var d=Object.getPrototypeOf,g=d&&d(d(P([])));g&&g!==e&&n.call(g,i)&&(v=g);var m=b.prototype=x.prototype=Object.create(v);E.prototype=m.constructor=b,b.constructor=E,b[c]=E.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===E||"GeneratorFunction"===(r.displayName||r.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},h.awrap=function(t){return{__await:t}},_(j.prototype),j.prototype[a]=function(){return this},h.AsyncIterator=j,h.async=function(t,r,e,n){var o=new j(w(t,r,e,n));return h.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(m),m[c]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},h.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},h.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(G),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),G(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;G(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function w(t,r,e,n){var o=r&&r.prototype instanceof x?r:x,i=Object.create(o.prototype),a=new N(n||[]);return i._invoke=function(t,r,e){var n=s;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=O(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===s)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=L(t,r,e);if("normal"===u.type){if(n=e.done?p:f,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function L(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function x(){}function E(){}function b(){}function _(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function j(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=L(t[e],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},a)}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=L(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function k(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function G(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")());

},{}],48:[function(require,module,exports){
!function(e,a,o){"object"==typeof exports?(module.exports=o(),module.exports.default=o()):"function"==typeof define&&define.amd?define(o):a.slugify=o()}(0,this,function(){var e=JSON.parse('{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E\'","":"Y\'","":"T\'","":"JH","":"I","":"L","":"X","":"C\'","":"K","":"H","":"D\'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R\'","":"S","":"V","":"T","":"R","":"C","":"P\'","":"Q\'","":"O\'\'","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"\'","":"\'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}'),a=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function o(o,n){if("string"!=typeof o)throw new Error("slugify: string argument expected");var r=a[(n="string"==typeof n?{replacement:n}:n||{}).locale]||{},i=void 0===n.replacement?"-":n.replacement,t=void 0===n.trim||n.trim,u=o.normalize().split("").reduce(function(a,o){var t=r[o];return void 0===t&&(t=e[o]),void 0===t&&(t=o),t===i&&(t=" "),a+t.replace(n.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return n.strict&&(u=u.replace(/[^A-Za-z0-9\s]/g,"")),t&&(u=u.trim()),u=u.replace(/\s+/g,i),n.lower&&(u=u.toLowerCase()),u}return o.extend=function(a){Object.assign(e,a)},o});

},{}],49:[function(require,module,exports){
"use strict";module.exports=((e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]});

},{}],50:[function(require,module,exports){
"use strict";module.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`));

},{}],51:[function(require,module,exports){
(function(){(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(e,r){return t.controller.visit(e,r)},clearCache:function(){return t.controller.clearCache()},setProgressBarDelay:function(e){return t.controller.setProgressBarDelay(e)}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,r,n,o=[].slice;t.copyObject=function(t){var e,r,n;for(e in r={},t)n=t[e],r[e]=n;return r},t.closest=function(t,r){return e.call(t,r)},e=function(){var t;return null!=(t=document.documentElement.closest)?t:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&r.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.throttle=function(t){var e;return e=null,function(){var r,n;return r=1<=arguments.length?o.call(arguments,0):[],null!=e?e:e=requestAnimationFrame((n=this,function(){return e=null,t.apply(n,r)}))}},t.dispatch=function(t,e){var r,o,i,s,a,u;return u=(a=null!=e?e:{}).target,r=a.cancelable,o=a.data,(i=document.createEvent("Events")).initEvent(t,!0,!0===r),i.data=null!=o?o:{},i.cancelable&&!n&&(s=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),s.call(this)}),(null!=u?u:document).dispatchEvent(i),i},n=function(){var t;return(t=document.createEvent("Events")).initEvent("test",!0,!0),t.preventDefault(),t.defaultPrevented}(),t.match=function(t,e){return r.call(t,e)},r=function(){var t,e,r,n;return null!=(e=null!=(r=null!=(n=(t=document.documentElement).matchesSelector)?n:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,r;for(r="",t=e=1;36>=e;t=++e)r+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return r}}).call(this),function(){t.Location=function(){function t(t){var e,r;null==t&&(t=""),(r=document.createElement("a")).href=t.toString(),this.absoluteURL=r.href,2>(e=r.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=r.hash.slice(1))}var e,r,n,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=r(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},r=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return n(t,"/")?t:t+"/"},o=function(t,e){return t.slice(0,e.length)===e},n=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function r(r,n,o){this.delegate=r,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(n).requestURL,this.referrer=t.Location.wrap(o).absoluteURL,this.createXHR()}return r.NETWORK_FAILURE=0,r.TIMEOUT_FAILURE=-1,r.timeout=60,r.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},r.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},r.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},r.prototype.requestLoaded=function(){return this.endRequest((t=this,function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}));var t},r.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},r.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},r.prototype.requestCanceled=function(){return this.endRequest()},r.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},r.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},r.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},r.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},r.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},r.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},r}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var r;return r=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width 300ms ease-out, opacity 150ms 150ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,450)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,r)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.BrowserAdapter=function(){function r(r){this.controller=r,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var n,o,i;return i=t.HttpRequest,n=i.NETWORK_FAILURE,o=i.TIMEOUT_FAILURE,r.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},r.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},r.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},r.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},r.prototype.visitRequestCompleted=function(t){return t.loadResponse()},r.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case o:return this.reload();default:return t.loadResponse()}},r.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},r.prototype.visitCompleted=function(t){return t.followRedirect()},r.prototype.pageInvalidated=function(){return this.reload()},r.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},r.prototype.showProgressBar=function(){return this.progressBar.show()},r.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},r.prototype.reload=function(){return window.location.reload()},r}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.History=function(){function r(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return r.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},r.prototype.push=function(e,r){return e=t.Location.wrap(e),this.update("push",e,r)},r.prototype.replace=function(e,r){return e=t.Location.wrap(e),this.update("replace",e,r)},r.prototype.onPopState=function(e){var r,n,o,i;return this.shouldHandlePopState()&&(i=null!=(n=e.state)?n.turbolinks:void 0)?(r=t.Location.wrap(window.location),o=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(r,o)):void 0},r.prototype.onPageLoad=function(e){return t.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},r.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},r.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},r.prototype.update=function(t,e,r){var n;return n={turbolinks:{restorationIdentifier:r}},history[t+"State"](n,null,e)},r}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,r,n,s,a;for(this.elements={},r=0,s=t.length;s>r;r++)(a=t[r]).nodeType===Node.ELEMENT_NODE&&(n=a.outerHTML,(null!=(e=this.elements)[n]?e[n]:e[n]={type:i(a),tracked:o(a),elements:[]}).elements.push(a))}var e,r,n,o,i;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t;return function(){var e,r;for(t in r=[],e=this.elements)e[t].tracked&&r.push(t);return r}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var r,n,o,i,s,a;for(n in s=[],o=this.elements)a=(i=o[n]).type,r=i.elements,a!==t||e.hasElementWithKey(n)||s.push(r[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,r,n,o,i,s;for(e in r=[],n=this.elements)s=(o=n[e]).type,i=o.tracked,t=o.elements,null!=s||i?t.length>1&&r.push.apply(r,t.slice(1)):r.push.apply(r,t);return r},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var r,n,o,i;for(o in r=void 0,i=this.elements)n=i[o].elements,e(n[0],t)&&(r=n[0]);return r},i=function(t){return r(t)?"script":n(t)?"stylesheet":void 0},o=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},r=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},e=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){t.Snapshot=function(){function e(t,e){this.headDetails=t,this.bodyElement=e}return e.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},e.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},e.fromHTMLElement=function(e){var r,n,o;return n=e.querySelector("head"),r=null!=(o=e.querySelector("body"))?o:document.createElement("body"),new this(t.HeadDetails.fromHeadElement(n),r)},e.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},e.prototype.getRootLocation=function(){var e,r;return r=null!=(e=this.getSetting("root"))?e:"/",new t.Location(r)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(t){}},e.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},e.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,r,n,o,i;for(i=[],r=0,n=(o=this.getPermanentElements()).length;n>r;r++)e=o[r],t.getPermanentElementById(e.id)&&i.push(e);return i},e.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},e.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},e.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var r;return t.render=function(){var t,r,n;return r=arguments[0],t=arguments[1],(n=function(t,e,r){r.prototype=t.prototype;var n=new r,o=t.apply(n,e);return Object(o)===o?o:n}(this,3<=arguments.length?e.call(arguments,2):[],function(){})).delegate=r,n.render(t),n},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,r(e,t),e)},r=function(t,e){var r,n,o,i,s,a,u;for(a=[],r=0,n=(i=e.attributes).length;n>r;r++)o=(s=i[r]).name,u=s.value,a.push(t.setAttribute(o,u));return a},t}()}.call(this),function(){var e,r,n=function(t,e){function r(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},o={}.hasOwnProperty;t.SnapshotRenderer=function(t){function o(t,e,r){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=r,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(o,t),o.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},o.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},o.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},o.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},o.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},o.prototype.copyNewHeadStylesheetElements=function(){var t,e,r,n,o;for(o=[],e=0,r=(n=this.getNewHeadStylesheetElements()).length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},o.prototype.copyNewHeadScriptElements=function(){var t,e,r,n,o;for(o=[],e=0,r=(n=this.getNewHeadScriptElements()).length;r>e;e++)t=n[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},o.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,r,n,o;for(o=[],e=0,r=(n=this.getCurrentHeadProvisionalElements()).length;r>e;e++)t=n[e],o.push(document.head.removeChild(t));return o},o.prototype.copyNewHeadProvisionalElements=function(){var t,e,r,n,o;for(o=[],e=0,r=(n=this.getNewHeadProvisionalElements()).length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},o.prototype.relocateCurrentBodyPermanentElements=function(){var t,n,o,i,s,a,u;for(u=[],t=0,n=(a=this.getCurrentBodyPermanentElements()).length;n>t;t++)i=a[t],s=e(i),o=this.newSnapshot.getPermanentElementById(i.id),r(i,s.element),r(o,i),u.push(s);return u},o.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,o,i,s,a;for(a=[],o=0,i=t.length;i>o;o++)n=(s=t[o]).element,e=s.permanentElement.cloneNode(!0),a.push(r(n,e));return a},o.prototype.activateNewBodyScriptElements=function(){var t,e,n,o,i,s;for(s=[],e=0,o=(i=this.getNewBodyScriptElements()).length;o>e;e++)n=i[e],t=this.createScriptElement(n),s.push(r(n,t));return s},o.prototype.assignNewBody=function(){return document.body=this.newBody},o.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},o.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},o.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},o.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},o.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},o.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},o.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},o}(t.Renderer),e=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},r=function(t,e){var r;return(r=t.parentNode)?r.replaceChild(e,t):void 0}}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.ErrorRenderer=function(t){function r(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return e(r,t),r.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},r.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},r.prototype.activateBodyScriptElements=function(){var t,e,r,n,o,i;for(i=[],e=0,r=(n=this.getScriptElements()).length;r>e;e++)o=n[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},r.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},r}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.htmlElement=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},e.prototype.getSnapshot=function(){return t.Snapshot.fromHTMLElement(this.htmlElement)},e.prototype.render=function(t,e){var r,n,o;return o=t.snapshot,r=t.error,n=t.isPreview,this.markAsPreview(n),null!=o?this.renderSnapshot(o,n,e):this.renderError(r,e)},e.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,r,n){return t.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),t.Snapshot.wrap(e),r)},e.prototype.renderError=function(e,r){return t.ErrorRenderer.render(this.delegate,r,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function r(r){this.delegate=r,this.onScroll=e(this.onScroll,this),this.onScroll=t.throttle(this.onScroll)}return r.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},r.prototype.scrollToElement=function(t){return t.scrollIntoView()},r.prototype.scrollToPosition=function(t){var e,r;return e=t.x,r=t.y,window.scrollTo(e,r)},r.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},r.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},r}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var r;return e.prototype.has=function(t){return r(t)in this.snapshots},e.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=r(t),this.snapshots[e]},e.prototype.write=function(t,e){var n;return n=r(t),this.snapshots[n]=e},e.prototype.touch=function(t){var e,n;return n=r(t),(e=this.keys.indexOf(n))>-1&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},e.prototype.trim=function(){var t,e,r,n,o;for(o=[],t=0,r=(n=this.keys.splice(this.size)).length;r>t;t++)e=n[t],o.push(delete this.snapshots[e]);return o},r=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function r(r,n,o){this.controller=r,this.action=o,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(n),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return r.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},r.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},r.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},r.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},r.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},r.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},r.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},r.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},r.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var r;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(r=this.adapter).visitRendered&&r.visitRendered(this),t?void 0:this.complete()})):void 0},r.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},r.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},r.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},r.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},r.prototype.requestCompletedWithResponse=function(e,r){return this.response=e,null!=r&&(this.redirectedToLocation=t.Location.wrap(r)),this.adapter.visitRequestCompleted(this)},r.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},r.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},r.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},r.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},r.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},r.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},r.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},r.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},r.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},r.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},r.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},r.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},r}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function r(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return r.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},r.prototype.disable=function(){return this.enabled=!1},r.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},r.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},r.prototype.visit=function(e,r){var n,o;return null==r&&(r={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(n=null!=(o=r.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(e,n)):window.location=e:void 0},r.prototype.startVisitToLocationWithAction=function(e,r,n){var o;return t.supported?(o=this.getRestorationDataForIdentifier(n),this.startVisit(e,r,{restorationData:o})):window.location=e},r.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},r.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.stopHistory=function(){return this.history.stop()},r.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,r){return this.restorationIdentifier=r,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},r.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,r){return this.restorationIdentifier=r,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,r){var n;return this.restorationIdentifier=r,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},r.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},r.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},r.prototype.cacheSnapshot=function(){var e,r;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),r=this.view.getSnapshot(),e=this.lastRenderedLocation,t.defer(function(t){return function(){return t.cache.put(e,r.clone())}}(this))):void 0},r.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},r.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},r.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},r.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},r.prototype.render=function(t,e){return this.view.render(t,e)},r.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},r.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},r.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},r.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},r.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},r.prototype.clickBubbled=function(t){var e,r,n;return this.enabled&&this.clickEventIsSignificant(t)&&(r=this.getVisitableLinkForNode(t.target))&&(n=this.getVisitableLocationForLink(r))&&this.applicationAllowsFollowingLinkToLocation(r,n)?(t.preventDefault(),e=this.getActionForLink(r),this.visit(n,{action:e})):void 0},r.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},r.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},r.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,r){return t.dispatch("turbolinks:click",{target:e,data:{url:r.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},r.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},r.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},r.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},r.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},r.prototype.startVisit=function(t,e,r){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(t,e,r),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},r.prototype.createVisit=function(e,r,n){var o,i,s,a,u;return a=(i=null!=n?n:{}).restorationIdentifier,s=i.restorationData,o=i.historyChanged,(u=new t.Visit(this,e,r)).restorationIdentifier=null!=a?a:t.uuid(),u.restorationData=t.copyObject(s),u.historyChanged=o,u.referrer=this.location,u},r.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},r.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},r.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target]):not([download])"):void 0},r.prototype.getVisitableLocationForLink=function(e){var r;return r=new t.Location(e.getAttribute("href")),this.locationIsVisitable(r)?r:void 0},r.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},r.prototype.nodeIsVisitable=function(e){var r;return!(r=t.closest(e,"[data-turbolinks]"))||"false"!==r.getAttribute("data-turbolinks")},r.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},r.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},r.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},r}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var e,r,n;t.start=function(){return r()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},r=function(){return null==window.Turbolinks&&(window.Turbolinks=t),n()},e=function(){var e;return(e=new t.Controller).adapter=new t.BrowserAdapter(e),e},(n=function(){return window.Turbolinks===t})()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}).call(this);

},{}]},{},[1]);
